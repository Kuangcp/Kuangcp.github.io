<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Docker - Mythos Â· Java Developer</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Kuangcp" /><meta name="description" content="ğŸ’  Docker 1.1. ç®€ä»‹ 1.2. å­¦ä¹ èµ„æº å®‰è£…ä¸å¸è½½ 2.1. Linux 2.1.1. å®‰è£…åŒ…å®‰è£… 2.1.2. æ— éœ€sudoå»æ‰§è¡Œdockerå‘½ä»¤ 2.1.3. Ubuntu 2.1.4. Debian 2.1.5. Centos 2.1.6. Arch 2.2. Windows 2.3. å›¾å½¢åŒ–ç®¡ç†å·¥å…· 2.3.1. Portainer åŸºç¡€ç®¡ç† 3.1. é…ç½®ä»£ç†" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.99.0 with theme even" />


<link rel="canonical" href="https://www.kuangcp.top/post/linux/container/docker/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.b5a744db6de49a86cadafb3b70f555ab443f83c307a483402259e94726b045ff.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Docker" />
<meta property="og:description" content="ğŸ’  Docker 1.1. ç®€ä»‹ 1.2. å­¦ä¹ èµ„æº å®‰è£…ä¸å¸è½½ 2.1. Linux 2.1.1. å®‰è£…åŒ…å®‰è£… 2.1.2. æ— éœ€sudoå»æ‰§è¡Œdockerå‘½ä»¤ 2.1.3. Ubuntu 2.1.4. Debian 2.1.5. Centos 2.1.6. Arch 2.2. Windows 2.3. å›¾å½¢åŒ–ç®¡ç†å·¥å…· 2.3.1. Portainer åŸºç¡€ç®¡ç† 3.1. é…ç½®ä»£ç†" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.kuangcp.top/post/linux/container/docker/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2018-12-15T11:24:44+00:00" />
<meta property="article:modified_time" content="2018-12-15T11:24:44+00:00" />

<meta itemprop="name" content="Docker">
<meta itemprop="description" content="ğŸ’  Docker 1.1. ç®€ä»‹ 1.2. å­¦ä¹ èµ„æº å®‰è£…ä¸å¸è½½ 2.1. Linux 2.1.1. å®‰è£…åŒ…å®‰è£… 2.1.2. æ— éœ€sudoå»æ‰§è¡Œdockerå‘½ä»¤ 2.1.3. Ubuntu 2.1.4. Debian 2.1.5. Centos 2.1.6. Arch 2.2. Windows 2.3. å›¾å½¢åŒ–ç®¡ç†å·¥å…· 2.3.1. Portainer åŸºç¡€ç®¡ç† 3.1. é…ç½®ä»£ç†"><meta itemprop="datePublished" content="2018-12-15T11:24:44+00:00" />
<meta itemprop="dateModified" content="2018-12-15T11:24:44+00:00" />
<meta itemprop="wordCount" content="5845">
<meta itemprop="keywords" content="åŸºç¡€," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Docker"/>
<meta name="twitter:description" content="ğŸ’  Docker 1.1. ç®€ä»‹ 1.2. å­¦ä¹ èµ„æº å®‰è£…ä¸å¸è½½ 2.1. Linux 2.1.1. å®‰è£…åŒ…å®‰è£… 2.1.2. æ— éœ€sudoå»æ‰§è¡Œdockerå‘½ä»¤ 2.1.3. Ubuntu 2.1.4. Debian 2.1.5. Centos 2.1.6. Arch 2.2. Windows 2.3. å›¾å½¢åŒ–ç®¡ç†å·¥å…· 2.3.1. Portainer åŸºç¡€ç®¡ç† 3.1. é…ç½®ä»£ç†"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Mythos</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Mythos</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Docker</h1>

      <div class="post-meta">
        <span class="post-time"> 2018-12-15 </span>
        <div class="post-category">
            <a href="/categories/docker/"> Docker </a>
            </div>
          <span class="more-meta"> çº¦ 5845 å­— </span>
          <span class="more-meta"> é¢„è®¡é˜…è¯» 12 åˆ†é’Ÿ </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">æ–‡ç« ç›®å½•</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#docker">Docker</a>
      <ul>
        <li><a href="#ç®€ä»‹">ç®€ä»‹</a></li>
        <li><a href="#å­¦ä¹ èµ„æº">å­¦ä¹ èµ„æº</a></li>
      </ul>
    </li>
    <li><a href="#å®‰è£…ä¸å¸è½½">å®‰è£…ä¸å¸è½½</a>
      <ul>
        <li><a href="#linux">Linux</a>
          <ul>
            <li><a href="#å®‰è£…åŒ…å®‰è£…">å®‰è£…åŒ…å®‰è£…</a></li>
            <li><a href="#æ— éœ€sudoå»æ‰§è¡Œdockerå‘½ä»¤">æ— éœ€sudoå»æ‰§è¡Œdockerå‘½ä»¤</a></li>
            <li><a href="#ubuntu">Ubuntu</a></li>
            <li><a href="#debian">Debian</a></li>
            <li><a href="#centos">Centos</a></li>
            <li><a href="#arch">Arch</a></li>
          </ul>
        </li>
        <li><a href="#windows">Windows</a></li>
        <li><a href="#å›¾å½¢åŒ–ç®¡ç†å·¥å…·">å›¾å½¢åŒ–ç®¡ç†å·¥å…·</a>
          <ul>
            <li><a href="#portainer">Portainer</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#åŸºç¡€ç®¡ç†">åŸºç¡€ç®¡ç†</a>
      <ul>
        <li><a href="#é…ç½®ä»£ç†">é…ç½®ä»£ç†</a></li>
        <li><a href="#é…ç½®é•œåƒæº">é…ç½®é•œåƒæº</a></li>
        <li><a href="#æ­å»ºæœ¬åœ°é•œåƒä»“åº“">æ­å»ºæœ¬åœ°é•œåƒä»“åº“</a>
          <ul>
            <li><a href="#push-over-http">Push over HTTP</a></li>
          </ul>
        </li>
        <li><a href="#åŸºç¡€å‘½ä»¤">åŸºç¡€å‘½ä»¤</a></li>
        <li><a href="#é•œåƒ">é•œåƒ</a></li>
        <li><a href="#å®¹å™¨">å®¹å™¨</a>
          <ul>
            <li><a href="#ps">ps</a></li>
            <li><a href="#create">create</a></li>
            <li><a href="#run">run</a></li>
            <li><a href="#exec">exec</a></li>
            <li><a href="#port">port</a></li>
          </ul>
        </li>
        <li><a href="#ç«¯å£æ˜ å°„">ç«¯å£æ˜ å°„</a></li>
      </ul>
    </li>
    <li><a href="#æ•°æ®å­˜å‚¨">æ•°æ®å­˜å‚¨</a>
      <ul>
        <li><a href="#æ–‡ä»¶ç³»ç»Ÿ">æ–‡ä»¶ç³»ç»Ÿ</a></li>
        <li><a href="#æ•°æ®å·">æ•°æ®å·</a></li>
        <li><a href="#æ•°æ®å·å®¹å™¨">æ•°æ®å·å®¹å™¨</a></li>
      </ul>
    </li>
    <li><a href="#å®¹å™¨ç¼–æ’">å®¹å™¨ç¼–æ’</a>
      <ul>
        <li><a href="#docker-compose">Docker-Compose</a>
          <ul>
            <li><a href="#é…ç½®æ–‡ä»¶">é…ç½®æ–‡ä»¶</a></li>
            <li><a href="#ä½¿ç”¨å‘½ä»¤">ä½¿ç”¨å‘½ä»¤</a></li>
            <li><a href="#tips">Tips</a></li>
          </ul>
        </li>
        <li><a href="#docker-machine">Docker-Machine</a></li>
        <li><a href="#docker-swarm">Docker-Swarm</a></li>
      </ul>
    </li>
    <li><a href="#ç½‘ç»œ">ç½‘ç»œ</a>
      <ul>
        <li><a href="#none">None</a></li>
        <li><a href="#host">Host</a></li>
        <li><a href="#bridge">Bridge</a></li>
        <li><a href="#user-defined">User-defined</a></li>
        <li><a href="#è·¨ä¸»æœºå®¹å™¨é€šä¿¡">è·¨ä¸»æœºå®¹å™¨é€šä¿¡</a>
          <ul>
            <li><a href="#overlay">overlay</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#dockerfile">Dockerfile</a></li>
  </ul>
</nav>
  </div>
</div>
  <div class="post-outdated">
    <div class="warn">
      <p>ã€æ³¨æ„ã€‘æœ€åæ›´æ–°äº <span class="timeago" datetime="2018-12-15T11:24:44" title="December 15, 2018">December 15, 2018</span>ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²è¿‡æ—¶ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚</p>
    </div>
  </div>
    <div class="post-content">
      <p>ğŸ’ </p>
<ul>
<li>
<ol>
<li><a href="#docker">Docker</a></li>
</ol>
<ul>
<li>1.1. <a href="#%E7%AE%80%E4%BB%8B">ç®€ä»‹</a></li>
<li>1.2. <a href="#%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90">å­¦ä¹ èµ„æº</a></li>
</ul>
</li>
<li>
<ol start="2">
<li><a href="#%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD">å®‰è£…ä¸å¸è½½</a></li>
</ol>
<ul>
<li>2.1. <a href="#linux">Linux</a>
<ul>
<li>2.1.1. <a href="#%E5%AE%89%E8%A3%85%E5%8C%85%E5%AE%89%E8%A3%85">å®‰è£…åŒ…å®‰è£…</a></li>
<li>2.1.2. <a href="#%E6%97%A0%E9%9C%80sudo%E5%8E%BB%E6%89%A7%E8%A1%8Cdocker%E5%91%BD%E4%BB%A4">æ— éœ€sudoå»æ‰§è¡Œdockerå‘½ä»¤</a></li>
<li>2.1.3. <a href="#ubuntu">Ubuntu</a></li>
<li>2.1.4. <a href="#debian">Debian</a></li>
<li>2.1.5. <a href="#centos">Centos</a></li>
<li>2.1.6. <a href="#arch">Arch</a></li>
</ul>
</li>
<li>2.2. <a href="#windows">Windows</a></li>
<li>2.3. <a href="#%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7">å›¾å½¢åŒ–ç®¡ç†å·¥å…·</a>
<ul>
<li>2.3.1. <a href="#portainer">Portainer</a></li>
</ul>
</li>
</ul>
</li>
<li>
<ol start="3">
<li><a href="#%E5%9F%BA%E7%A1%80%E7%AE%A1%E7%90%86">åŸºç¡€ç®¡ç†</a></li>
</ol>
<ul>
<li>3.1. <a href="#%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86">é…ç½®ä»£ç†</a></li>
<li>3.2. <a href="#%E9%85%8D%E7%BD%AE%E9%95%9C%E5%83%8F%E6%BA%90">é…ç½®é•œåƒæº</a></li>
<li>3.3. <a href="#%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%9C%B0%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93">æ­å»ºæœ¬åœ°é•œåƒä»“åº“</a>
<ul>
<li>3.3.1. <a href="#push-over-http">Push over HTTP</a></li>
</ul>
</li>
<li>3.4. <a href="#%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4">åŸºç¡€å‘½ä»¤</a></li>
<li>3.5. <a href="#%E9%95%9C%E5%83%8F">é•œåƒ</a></li>
<li>3.6. <a href="#%E5%AE%B9%E5%99%A8">å®¹å™¨</a>
<ul>
<li>3.6.1. <a href="#ps">ps</a></li>
<li>3.6.2. <a href="#create">create</a></li>
<li>3.6.3. <a href="#run">run</a>
<ul>
<li>3.6.3.1. <a href="#%E8%B5%84%E6%BA%90%E9%99%90%E5%88%B6">èµ„æºé™åˆ¶</a></li>
</ul>
</li>
<li>3.6.4. <a href="#exec">exec</a></li>
<li>3.6.5. <a href="#port">port</a></li>
</ul>
</li>
<li>3.7. <a href="#%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84">ç«¯å£æ˜ å°„</a></li>
</ul>
</li>
<li>
<ol start="4">
<li><a href="#%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8">æ•°æ®å­˜å‚¨</a></li>
</ol>
<ul>
<li>4.1. <a href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F">æ–‡ä»¶ç³»ç»Ÿ</a></li>
<li>4.2. <a href="#%E6%95%B0%E6%8D%AE%E5%8D%B7">æ•°æ®å·</a></li>
<li>4.3. <a href="#%E6%95%B0%E6%8D%AE%E5%8D%B7%E5%AE%B9%E5%99%A8">æ•°æ®å·å®¹å™¨</a></li>
</ul>
</li>
<li>
<ol start="5">
<li><a href="#%E5%AE%B9%E5%99%A8%E7%BC%96%E6%8E%92">å®¹å™¨ç¼–æ’</a></li>
</ol>
<ul>
<li>5.1. <a href="#docker-compose">Docker-Compose</a>
<ul>
<li>5.1.1. <a href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">é…ç½®æ–‡ä»¶</a></li>
<li>5.1.2. <a href="#%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4">ä½¿ç”¨å‘½ä»¤</a></li>
<li>5.1.3. <a href="#tips">Tips</a></li>
</ul>
</li>
<li>5.2. <a href="#docker-machine">Docker-Machine</a></li>
<li>5.3. <a href="#docker-swarm">Docker-Swarm</a></li>
</ul>
</li>
<li>
<ol start="6">
<li><a href="#%E7%BD%91%E7%BB%9C">ç½‘ç»œ</a></li>
</ol>
<ul>
<li>6.1. <a href="#none">None</a></li>
<li>6.2. <a href="#host">Host</a></li>
<li>6.3. <a href="#bridge">Bridge</a></li>
<li>6.4. <a href="#user-defined">User-defined</a></li>
<li>6.5. <a href="#%E8%B7%A8%E4%B8%BB%E6%9C%BA%E5%AE%B9%E5%99%A8%E9%80%9A%E4%BF%A1">è·¨ä¸»æœºå®¹å™¨é€šä¿¡</a>
<ul>
<li>6.5.1. <a href="#overlay">overlay</a></li>
</ul>
</li>
</ul>
</li>
<li>
<ol start="7">
<li><a href="#dockerfile">Dockerfile</a></li>
</ol>
</li>
</ul>
<p>ğŸ’  2024-11-10 13:14:39</p>
<hr>
<h1 id="docker">Docker</h1>
<blockquote>
<p><a href="https://docs.docker.com/">Official Doc</a> | <a href="www.docker-cn.com">docker-cn</a><code>Dockerä¸­å›½</code></p>
</blockquote>
<ul>
<li>
<p><a href="http://www.docker.org.cn/">dockerä¸­æ–‡</a><code>ç¤¾åŒº</code></p>
</li>
<li>
<p><a href="https://yeasy.gitbooks.io/docker_practice/content/">Gitbook: docker ä»å…¥é—¨åˆ°å®è·µ</a></p>
</li>
<li>
<p><a href="https://github.com/budtmo/docker-android">docker-android</a></p>
</li>
</ul>
<h2 id="ç®€ä»‹">ç®€ä»‹</h2>
<blockquote>
<p><code>Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“</code> ç†è§£ä¸ºè½»é‡ç‰ˆè™šæ‹Ÿæœº(ä¸æ¨¡æ‹Ÿç¡¬ä»¶å±‚)</p>
</blockquote>
<h2 id="å­¦ä¹ èµ„æº">å­¦ä¹ èµ„æº</h2>
<ul>
<li>
<p><a href="https://labs.play-with-docker.com/">PMD: player with docker</a><code>çº¿ä¸Šç»ƒä¹ Dockerç¯å¢ƒ</code></p>
</li>
<li>
<p><a href="https://github.com/docker-slim/docker-slim">docker-slim</a><code>é•œåƒç˜¦èº«</code></p>
</li>
<li>
<p><input disabled="" type="checkbox"> todo <a href="https://docs.docker.com/develop/develop-images/multistage-build/">Use multi-stage builds</a> <code>17.05+</code></p>
</li>
<li>
<p><a href="https://github.com/collabnix/dockerlabs">dockerlabs</a></p>
</li>
</ul>
<hr>
<blockquote>
<p><a href="https://gitee.com/explore/starred?lang=Docker">ç äº‘ä¸ŠDockeç›¸å…³èµ„æº</a></p>
</blockquote>
<ul>
<li>
<p><a href="https://gitee.com/dockerf/docker-training">docker-training å¼€æºé¡¹ç›®</a></p>
<ul>
<li><a href="https://gitee.com/dockerf/second">ç¬¬äºŒè¯¾</a></li>
</ul>
</li>
<li>
<p><a href="https://gitee.com/kennylee/docker">Dockerfileé›†é”¦</a></p>
</li>
<li>
<p><a href="https://github.com/oracle/docker-images">Oracleçš„Dockerfileä»“åº“</a></p>
</li>
<li>
<p><a href="http://blog.csdn.net/Raptor/article/details/18305299"> å…·æœ‰ä¸­å›½ç‰¹è‰²çš„dockeræŠ˜è…¾è®°ï¼ˆä¸Šï¼‰</a></p>
<ul>
<li><a href="http://blog.csdn.net/raptor/article/details/18405569"> å…·æœ‰ä¸­å›½ç‰¹è‰²çš„dockeræŠ˜è…¾è®°ï¼ˆä¸‹ï¼‰</a></li>
</ul>
</li>
</ul>
<blockquote>
<p><a href="http://www.open-open.com/lib/view/open1443075440623.html">dockerèµ„æºæ±‡æ€» </a>
<a href="http://www.importnew.com/24658.html">ç®€è¿° Docker</a></p>
</blockquote>
<hr>
<h1 id="å®‰è£…ä¸å¸è½½">å®‰è£…ä¸å¸è½½</h1>
<blockquote>
<p><a href="http://get.daocloud.io/#install-docker">daocloudå®‰è£…å¸®åŠ©</a> | <a href="http://guide.daocloud.io/dcs/daocloud-9153151.html">Docker åŠ é€Ÿå™¨</a></p>
</blockquote>
<blockquote>
<p><a href="https://lug.ustc.edu.cn/wiki/mirrors/help/docker">ä¸­ç§‘å¤§Dockerä»“åº“é•œåƒæº</a></p>
</blockquote>
<h2 id="linux">Linux</h2>
<blockquote>
<p><a href="https://docs.docker.com/install/linux/docker-ce/">Official doc</a> <code>æ‰€æœ‰çš„å‘è¡Œç‰ˆ</code></p>
</blockquote>
<blockquote>
<p>docker.io æ˜¯æ—§ç‰ˆæœ¬ ç°åœ¨æ–°çš„Dockeråˆ†ä¸º docker-ce  docker-ee<br>
æ³¨æ„ Deepinä¸Š å¦‚æœé€šè¿‡ apt å»å®‰è£… docker-compose å®ƒä¼šæŠŠ docker-ce å¸æ‰, è£…æ—§çš„ docker.io</p>
</blockquote>
<h3 id="å®‰è£…åŒ…å®‰è£…">å®‰è£…åŒ…å®‰è£…</h3>
<blockquote>
<p><a href="https://download.docker.com/linux/">å®˜æ–¹æ–‡ä»¶åœ°å€</a></p>
</blockquote>
<p><em>Debianç³»</em></p>
<ul>
<li><a href="https://download.docker.com/linux/debian/dists/">debåŒ…é€‰æ‹©</a></li>
<li>è¿›å»åé€‰æ‹©debainçš„ç‰ˆæœ¬ï¼Œdeepin15.4 çš„ç‰ˆæœ¬æ˜¯stretch ç„¶åpool/stable/amd64/é€‰ç‰ˆæœ¬å³å¯</li>
<li>ä¾‹å¦‚ï¼š<a href="https://download.docker.com/linux/debian/dists/stretch/pool/stable/amd64/">Deepin 15.4ç›´æ¥ç‚¹è¿™é‡Œ</a> <code>è¿™ä¸¤ç§æ–¹å¼è£…çš„æ˜¯åŒä¸€ä¸ªç‰ˆæœ¬å·</code></li>
<li>åŒå‡»æˆ–è€…<code>sudo dpkg -i debæ–‡ä»¶</code></li>
<li>æµ‹è¯•å®‰è£…æˆåŠŸ <code>sudo docker run hello-world</code></li>
</ul>
<h3 id="æ— éœ€sudoå»æ‰§è¡Œdockerå‘½ä»¤">æ— éœ€sudoå»æ‰§è¡Œdockerå‘½ä»¤</h3>
<blockquote>
<p><a href="https://docs.docker.com/install/linux/linux-postinstall/#manage-docker-as-a-non-root-user">å®˜æ–¹æ–‡æ¡£</a></p>
</blockquote>
<ul>
<li>å¦‚æœæ²¡æœ‰dockerç»„ï¼Œæ·»åŠ ç»„ <code>sudo groupadd docker </code></li>
<li>å°†å½“å‰ç”¨æˆ·åŠ å…¥ç”¨æˆ·ç»„ <code>sudo gpasswd -a $USER docker</code></li>
<li>ç„¶åé‡æ–°æ³¨é”€ç™»å½•ï¼Œæˆ–è€…é€€å‡ºä¼šè¯é‡æ–°ç™»å½•å³å¯</li>
</ul>
<h3 id="ubuntu">Ubuntu</h3>
<ul>
<li><a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/#install-docker-ce-1">Official: Ubuntuå®‰è£…æœ€æ–°ç‰ˆ</a></li>
<li><code>sudo apt install docker-ce</code>
<ul>
<li>å…³é—­æœåŠ¡åˆ™æ˜¯æ ‡å‡†æœåŠ¡æ“ä½œ, service docker stop</li>
</ul>
</li>
</ul>
<p><code>snap</code></p>
<ul>
<li>å®‰è£…snap <code>sudo apt install snapd</code></li>
<li>æŸ¥çœ‹é€‚ç”¨äºå½“å‰ç³»ç»Ÿçš„åŒ…ï¼š<code>snap install find</code></li>
<li>å®‰è£…ï¼š <code>snap install docker</code></li>
</ul>
<h3 id="debian">Debian</h3>
<blockquote>
<p><a href="http://www.docker.org.cn/book/install/install-docker-on-debian-8.0-jessie-34.html">å‚è€ƒ</a></p>
</blockquote>
<ul>
<li><code>sudo echo &quot;deb http://http.debian.net/debian jessie-backports main&quot; &gt;&gt; /etc/apt/sources.list</code></li>
<li><code>sudo apt-get install docker-ce</code></li>
</ul>
<ol>
<li><code>å‰ç½®è½¯ä»¶</code> sudo apt-get install <br>
apt-transport-https <br>
ca-certificates <br>
curl <br>
gnupg2 <br>
lsb-release <br>
software-properties-common</li>
</ol>
<blockquote>
<p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/docker-ce/">ä½¿ç”¨æ¸…åå¤§å­¦é•œåƒæºå®‰è£…</a></p>
</blockquote>
<h3 id="centos">Centos</h3>
<ul>
<li><code>sudo yum install docker</code>
<ul>
<li>Ubuntuçš„è¯,Dockeræ²¡æœ‰å¯åŠ¨, åªè¦ä¸€æ‰§è¡ŒDockerç›¸å…³å‘½ä»¤å°±ä¼šè‡ªåŠ¨å¯åŠ¨, ä½†æ˜¯Centosè¦æ‰‹åŠ¨å¯åŠ¨</li>
<li><code>service docker start</code>  è®¾ç½®å¼€æœºå¯åŠ¨: <code>chkconfig docker on</code></li>
</ul>
</li>
</ul>
<h3 id="arch">Arch</h3>
<ul>
<li><code>pacman -S docker</code></li>
</ul>
<hr>
<h2 id="windows">Windows</h2>
<blockquote>
<p>Windowsä¸Šæœ¬è´¨æ˜¯ç”¨äº†VirtualBoxåˆ›å»ºè™šæ‹Ÿæœºæ¥è·‘Docker, å±ä¸€èˆ¬çš„ä½“éªŒ, ç„¶è€ŒWin10çš„WSLå› ä¸ºä¸èƒ½æ¨¡æ‹Ÿaufs ä»¥åŠ cgroup æ‰€ä»¥èƒ½è£…ä¸èƒ½ç”¨<br>
åªèƒ½è£…ä¸Šdocker for windows ç„¶åæŠŠDockerå®ˆæŠ¤è¿›ç¨‹çš„å¥—æ¥å­—æ–‡ä»¶é…ç½®ç»™wslç”¨ã€‚ã€‚ã€‚ã€‚ã€‚</p>
</blockquote>
<ul>
<li><a href="http://www.cnblogs.com/linjj/p/5606687.html">å‚è€ƒåšå®¢</a></li>
<li><a href="https://www.docker.com/products/docker-toolbox">å®˜æ–¹toolbox ä¸‹è½½</a></li>
<li>ç„¶ååŒå‡»å®‰è£…ï¼Œå‹¾é€‰ä¸Švirtualbox è®°ä½cpuè¦å¼€è™šæ‹ŸåŒ–</li>
<li>å®‰è£…å®Œæˆåå°±ä¼šæœ‰ä¸‰ä¸ªå›¾æ ‡åœ¨æ¡Œé¢ä¸Šï¼Œç„¶åè¿›å…¥Docker Quickstart Terminalå <code>docker run hello-world</code> æœ‰æ­£å¸¸è¾“å‡ºå³å¯</li>
</ul>
<hr>
<h2 id="å›¾å½¢åŒ–ç®¡ç†å·¥å…·">å›¾å½¢åŒ–ç®¡ç†å·¥å…·</h2>
<blockquote>
<p><a href="https://github.com/jesseduffield/lazydocker">lazydocker</a></p>
</blockquote>
<h3 id="portainer">Portainer</h3>
<blockquote>
<p><a href="https://www.portainer.io/">Official Site</a>  | <a href="https://www.portainer.io/installation/">installation</a></p>
</blockquote>
<ol>
<li><code>docker volume create portainer_data</code></li>
<li><code>docker run --name portainer -d -p 8000:8000 -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce</code></li>
</ol>
<h1 id="åŸºç¡€ç®¡ç†">åŸºç¡€ç®¡ç†</h1>
<blockquote>
<p>docker æ‰€æœ‰çš„æ•°æ®é»˜è®¤å­˜å‚¨åœ¨ <code>/var/lib/docker</code></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/bcicen/ctop">ctop</a><code>Top-like interface for container metrics</code></p>
</blockquote>
<ul>
<li><a href="https://bitnami.com/">bitnami</a><code>éå®˜æ–¹ï¼Œä½†æ˜¯ç»´æŠ¤äº†å¾ˆå¤šå¸¸ç”¨è½¯ä»¶çš„é•œåƒ</code></li>
</ul>
<h2 id="é…ç½®ä»£ç†">é…ç½®ä»£ç†</h2>
<p>2024-06-06 å¼€å§‹å°ç¦DockerhubåŠå›½å†…æºï¼Œæ‰€ä»¥æœ€ç¨³å¦¥çš„è¿˜æ˜¯ç”¨ä»£ç†</p>
<blockquote>
<p>è®¾ç½®ä»£ç†æ–¹å¼</p>
</blockquote>
<ul>
<li>mkdir -p /etc/systemd/system/docker.service.d</li>
<li>vim /etc/systemd/system/docker.service.d/http-proxy.conf
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[Service]
</span></span><span class="line"><span class="cl">Environment=&#34;HTTP_PROXY=http://localhost:7890&#34;
</span></span><span class="line"><span class="cl">Environment=&#34;HTTPS_PROXY=http://localhost:7890&#34;
</span></span><span class="line"><span class="cl"># å¯é€‰é¡¹ï¼Œé…ç½®ä¸èµ°ä»£ç†çš„ä»“åº“
</span></span><span class="line"><span class="cl">Environment=&#34;NO_PROXY=your-registry.com,10.10.10.10,*.example.com&#34;
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>systemctl daemon-reload</li>
<li>systemctl restart docker</li>
<li>æ£€æŸ¥ç¯å¢ƒå˜é‡ systemctl show &ndash;property=Environment docker</li>
<li>æŸ¥çœ‹ä»£ç† docker info</li>
</ul>
<blockquote>
<p>Windows WSL é…ç½®</p>
</blockquote>
<ul>
<li>WSLæ— æ³•æ³¨å†Œä¸ºService,ç›´æ¥dockerd æ–¹å¼å¯åŠ¨ çš„æƒ…å†µ, åªèƒ½é€šè¿‡é…ç½® &ndash;http-proxy &ndash;https-proxy
<ul>
<li>æ— æ³•é€šè¿‡é…ç½® /etc/default/docker ç­‰æ–¹å¼</li>
<li>æ— æ³•é€šè¿‡ docker run &ndash;env HTTP_PROXY=&ldquo;<a href="http://x.x.x.x">http://x.x.x.x</a>&rdquo;</li>
</ul>
</li>
</ul>
<h2 id="é…ç½®é•œåƒæº">é…ç½®é•œåƒæº</h2>
<blockquote>
<p>é»˜è®¤çš„DockerHubå› ä¸ºåœ¨å›½å¤–æ‰€ä»¥ç½‘ç»œä¸å¤ªç¨³å®šï¼Œéœ€è¦ä½¿ç”¨å›½å†…é•œåƒæº</p>
</blockquote>
<ul>
<li><a href="https://docs.docker.com/registry/recipes/mirror/">Official doc</a></li>
</ul>
<p><code>ä¸‰ç§ä½¿ç”¨çš„æ–¹å¼</code></p>
<ol>
<li>ä½¿ç”¨æŒ‡å®šçš„URL <code>docker pull registry.docker-cn.com/myname/myrepo:mytag</code></li>
<li>ä»…ä»…é…ç½®å½“å‰å®ˆæŠ¤è¿›ç¨‹, é‡å¯å°±å¤±æ•ˆäº†<code>docker --registry-mirror=https://registry.docker-cn.com daemon</code></li>
<li>ä¿®æ”¹ <code>/etc/docker/daemon.json</code>æ–‡ä»¶, æ°¸ä¹…æ€§æ›´æ”¹</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl">    <span class="p">{</span><span class="nt">&#34;registry-mirrors&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;https://registry.docker-cn.com&#34;</span><span class="p">]}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ—¶é€Ÿäº‘</p>
</blockquote>
<ul>
<li><code>sudo docker pull index.tenxcloud.com/&lt;namespace&gt;/&lt;repository&gt;:&lt;tag&gt;</code></li>
<li>ä¸‹è½½åå¯ä»¥ç”¨åˆ«å <code>docker tag index.tenxcloud.com/docker_library/node:lastest node:lastest</code></li>
</ul>
<hr>
<h2 id="æ­å»ºæœ¬åœ°é•œåƒä»“åº“">æ­å»ºæœ¬åœ°é•œåƒä»“åº“</h2>
<blockquote>
<p><a href="https://docs.docker.com/registry/#requirements">Official doc</a></p>
</blockquote>
<blockquote>
<p><a href="https://www.csdn.net/article/2015-09-09/2825651">å‚è€ƒï¼šDocker Registry V1 ä¸ V2 çš„åŒºåˆ«è§£æä»¥åŠçµé›€äº‘çš„å®æ—¶åŒæ­¥è¿ç§»å®è·µ</a></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/docker/docker-registry">Github:v1</a> | <a href="https://github.com/docker/distribution">Github:v2</a></p>
</blockquote>
<blockquote>
<p>v1</p>
</blockquote>
<ul>
<li>æœåŠ¡å™¨ä¸Šè¿è¡Œ å¹¶æ˜ å°„åˆ°æœ¬åœ°ç›®å½• <code>docker run -d -p 5000:5000 -v /opt/data/registry:/tmp/registry registry</code></li>
<li>å¯¹æœåŠ¡å™¨ä¸­dockerå·²ç»æœ‰çš„é•œåƒ è®¾ç½®åˆ«å <code>docker tag é•œåƒ ip:port/é•œåƒå</code></li>
<li>docker push ip:port/é•œåƒå</li>
<li>æŸ¥çœ‹æœåŠ¡å™¨ä¸Šä»“åº“çš„é•œåƒ <code>curl http://IP:5000/v1/search </code></li>
</ul>
<blockquote>
<p>v2</p>
</blockquote>
<ul>
<li>å¯åŠ¨é•œåƒ <code>docker run -d -p 5000:5000 --name registry registry:2</code></li>
<li>ä¸€æ ·çš„è®¾ç½®å¥½åˆ«åï¼Œ ç„¶åpushä¸Šå»</li>
<li>æŸ¥çœ‹ä»“åº“ä¸­çš„é•œåƒ <code>curl IP:5000/v2/_catalog</code></li>
</ul>
<h3 id="push-over-http">Push over HTTP</h3>
<blockquote>
<p><strong>æ³¨æ„</strong> ç”±äº docker client é»˜è®¤æ˜¯ç”¨çš„ HTTPS æ–¹å¼é€šä¿¡ï¼Œ ä½†æ˜¯è¿™ä¸ªæœ¬åœ°çš„ registry é»˜è®¤æ˜¯ HTTP çš„ï¼Œ æ‰€ä»¥æœ‰å‡ ç§è§£å†³æ–¹æ¡ˆ</p>
</blockquote>
<ol>
<li>ç›´æ¥å°†æœ¬åœ°ä»“åº“çš„IPå’Œç«¯å£ è®¾ç½®ä¸ºæœ¬åœ°Dockerçš„ç™½åå•
<ul>
<li>ç»™dockerd æ·»åŠ å‚æ•° <code>DOCKER_OPTS=&quot;--insecure-registry ip:port&quot;</code></li>
<li>æˆ–è€…é…ç½® <code>/etc/docker/daemon.json</code> å¢åŠ ç™½åå•  <code>{ &quot;insecure-registries&quot;:[&quot;IP:PORT&quot;] }</code></li>
<li><strong>é‡å¯</strong>DockeræœåŠ¡</li>
</ul>
</li>
<li>å°† registry é…ç½®ä¸º HTTPSï¼Œ é‚£ä¹ˆå°±éœ€è¦é…ç½®SSLè¯ä¹¦ï¼Œ ä½¿ç”¨æœ¬åœ°è¯ä¹¦æˆ–è€…å…¬ç½‘è¯ä¹¦</li>
</ol>
<hr>
<h2 id="åŸºç¡€å‘½ä»¤">åŸºç¡€å‘½ä»¤</h2>
<blockquote>
<p>ç›´æ¥è¿è¡Œ docker, å°±ä¼šæœ‰å‘½ä»¤çš„ä½¿ç”¨æç¤º ä¾‹å¦‚æŸ¥çœ‹dockerç‰ˆæœ¬ <code>docker version</code></p>
</blockquote>
<p><em>ç™»å½•é•œåƒä»“åº“</em></p>
<ul>
<li>
<p>ç™»å½•hub.docker ï¼š<code>docker login </code> æˆ–è€… <code>docker login -u username -p password</code></p>
</li>
<li>
<p>ç™»å½•æ—¶é€Ÿäº‘ï¼š<code>sudo docker login index.tenxcloud.com</code></p>
</li>
<li>
<p>æ¸…ç†å…¨éƒ¨æœªä½¿ç”¨çš„èµ„æº docker system prune -a</p>
</li>
</ul>
<h2 id="é•œåƒ">é•œåƒ</h2>
<blockquote>
<p>Docker çš„é•œåƒæ˜¯é‡‡ç”¨åˆ†å±‚æ–‡ä»¶ç³»ç»Ÿï¼Œ Dockerfileä¸­æ¯ä¸ªRUNå‘½ä»¤é€ æˆçš„ä¿®æ”¹æˆ–æ–°å¢éƒ½æ˜¯æ–°çš„ä¸€å±‚layerï¼Œæ—§æ–‡ä»¶ä¸å˜</p>
</blockquote>
<blockquote>
<p><a href="https://github.com/wagoodman/dive">dive</a><code>æŸ¥çœ‹é•œåƒå†…å„layeræ–‡ä»¶</code></p>
</blockquote>
<ul>
<li>æŸ¥çœ‹æ‰€æœ‰ ï¼š <code>docker images</code>
<ul>
<li>docker images -a æŸ¥çœ‹æ‰€æœ‰é•œåƒ(åŒ…æ‹¬ä¸­é—´é•œåƒ)</li>
</ul>
</li>
<li>æœç´¢ ï¼š <code>docker search é•œåƒå</code></li>
<li>å®‰è£… ï¼š <code>docker pull é•œåƒå</code></li>
<li>åˆ é™¤ ï¼š <code>docker rmi é•œåƒå</code></li>
<li>æŸ¥çœ‹è¯¦ç»†ï¼š <code>docker inspect [-f {{&quot;.Architesture&quot;}}]</code>  -f æŸ¥çœ‹JSONæ ¼å¼çš„å…·ä½“èŠ‚ç‚¹çš„æ•°æ®å€¼</li>
<li>æŸ¥çœ‹Layerå†å²ï¼š<code>docker history imagename</code> æ¯ä¸€å±‚çš„Layer id å’Œ æ‰§è¡Œçš„æ“ä½œ</li>
<li>æ·»åŠ æ ‡ç­¾ï¼ˆåˆ«åï¼‰ï¼š <code>docker tag originname newname</code></li>
<li>å¯¼å‡ºé•œåƒæ–‡ä»¶ï¼š<code>docker save -o ubuntu.tar  ubuntu:14.04</code>
<ul>
<li>å¯¼å…¥é•œåƒæ–‡ä»¶ï¼š <code>docker load --input ubuntu.tar</code> æˆ– <code>docker load &lt; ubuntu.tar</code></li>
</ul>
</li>
<li>ä¸Šä¼ é•œåƒï¼š <code>docker push mythos/test:lastest</code></li>
<li>åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„image <code>docker image prune --all</code></li>
</ul>
<hr>
<h2 id="å®¹å™¨">å®¹å™¨</h2>
<ul>
<li>
<p>æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çš„çŠ¶æ€ï¼š<code>docker stats</code> èƒ½çœ‹åˆ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨å†…å­˜ cpu io netç­‰ä¿¡æ¯</p>
<ul>
<li><code>-a</code> æ‰€æœ‰å®¹å™¨</li>
<li><code>--no-stream</code> ä¸é˜»å¡æ ‡å‡†è¾“å‡ºæµï¼Œåªè¾“å‡ºä¸€æ¬¡ä¿¡æ¯</li>
</ul>
</li>
<li>
<p>åœæ­¢å®¹å™¨ï¼š<code>docker stop å®¹å™¨name</code></p>
</li>
<li>
<p>é‡å¯å®¹å™¨ï¼š<code>docker restart å®¹å™¨name</code></p>
</li>
<li>
<p>å¯åŠ¨å®¹å™¨ï¼š<code>docker start å®¹å™¨name</code></p>
<ul>
<li>-i äº¤äº’æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥è¿›å…¥ç»ˆç«¯</li>
</ul>
</li>
<li>
<p>åˆ é™¤å®¹å™¨ï¼š<code>docker rm å®¹å™¨name</code></p>
<ul>
<li><code>-f</code> å¼ºè¡Œåœæ­¢æ­£åœ¨è¿è¡Œçš„å®¹å™¨å¹¶åˆ é™¤</li>
<li><code>-l</code> åˆ é™¤å®¹å™¨çš„è¿æ¥ï¼Œä½†æ˜¯ä¿ç•™å®¹å™¨</li>
<li><code>-v</code> åˆ é™¤å®¹å™¨æŒ‚è½½çš„æ•°æ®å·</li>
<li>åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼š<code>docker rm ${docker -a -q}</code></li>
<li>åˆ é™¤æ‰€æœ‰å®¹å™¨å’ŒæŒ‚è½½çš„ç›®å½•ï¼š<code>docker system prune --volumes -f</code></li>
</ul>
</li>
<li>
<p>å®¹å™¨æ—¥å¿—(ç»ˆç«¯æ‰€æœ‰è¾“å…¥è¾“å‡º)ï¼š<code>docker logs å®¹å™¨nameæˆ–id</code></p>
</li>
<li>
<p>é‡å‘½å ï¼š <code>docker rename origin new</code></p>
</li>
<li>
<p>å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½• <strong>å®¹å™¨å¯åŠ¨æˆ–åœæ­¢éƒ½å¯æ“ä½œ</strong></p>
<ul>
<li>å®¹å™¨å¤åˆ¶åˆ°å®¿ä¸»æœº <code>docker cp my_container:/path/in/container /path/on/host</code></li>
<li>å®¿ä¸»æœºå¤åˆ¶åˆ°å®¹å™¨ <code>docker cp /path/on/host my_container:/path/in/container</code></li>
<li>ä½†æ˜¯ä¸æ”¯æŒé€šé… <code>docker cp *.sh redis:/tmp</code></li>
</ul>
</li>
</ul>
<blockquote>
<p>å¯¼å…¥å¯¼å‡º</p>
</blockquote>
<ul>
<li>å¯¼å…¥å¯¼å‡º ï¼ˆå®¹å™¨å¿«ç…§ï¼‰ï¼š <strong>æ³¨æ„æ­¤æ–¹å¼ä¸ä¼šä¿ç•™layerå†å²ï¼Œæ— æ³•å›æ»š</strong>
<ul>
<li>å¯¼å‡ºï¼š <code>docker export -o test.tar å®¹å™¨å</code> <code>docker export å®¹å™¨name &gt; test.tar</code></li>
<li>å¯¼å…¥ï¼š <code>docker import [-c |--change=[]] [-m | --message=[]] file|URL - [repository]:[tag]</code></li>
<li>-c | &ndash;change=[] é€‰é¡¹åœ¨å¯¼å…¥çš„åŒæ—¶æ‰§è¡Œå¯¹å®¹å™¨å°±è¡Œä¿®æ”¹çš„DockerfileæŒ‡ä»¤ã€‚</li>
</ul>
</li>
<li>å°†å®¹å™¨å¯¼å‡ºä¸ºé•œåƒï¼š <code>docker commit container_name image:tag</code></li>
</ul>
<blockquote>
<p><a href="http://jpetazzo.github.io/2015/01/13/docker-mount-dynamic-volumes/">Attach a volume to a container while it is running</a></p>
</blockquote>
<blockquote>
<p>ä¿®æ”¹ç«¯å£æ˜ å°„</p>
</blockquote>
<ul>
<li>åœæ­¢å®¹å™¨å’ŒDockeræœåŠ¡</li>
<li>cd /var/lib/docker/containers/{id}</li>
<li>ä¿®æ”¹ hostconfig.json
<ul>
<li><code>PortBindings</code> èŠ‚ç‚¹ æ–°å¢æˆ–ä¿®æ”¹</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="s2">&#34;PortBindings&#34;</span><span class="err">:</span><span class="p">{</span><span class="nt">&#34;3306/tcp&#34;</span><span class="p">:[{</span><span class="nt">&#34;HostIp&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;HostPort&#34;</span><span class="p">:</span><span class="s2">&#34;3360&#34;</span><span class="p">}]}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>config.v2.json
<ul>
<li><code>NetworkSettings.Ports</code> èŠ‚ç‚¹ä¸‹ æ–°å¢æˆ–ä¿®æ”¹</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="s2">&#34;Ports&#34;</span><span class="err">:</span><span class="p">{</span><span class="nt">&#34;8080/tcp&#34;</span><span class="p">:[{</span><span class="nt">&#34;HostIp&#34;</span><span class="p">:</span><span class="s2">&#34;0.0.0.0&#34;</span><span class="p">,</span><span class="nt">&#34;HostPort&#34;</span><span class="p">:</span><span class="s2">&#34;8888&#34;</span><span class="p">}],</span><span class="nt">&#34;8081/tcp&#34;</span><span class="p">:[{</span><span class="nt">&#34;HostIp&#34;</span><span class="p">:</span><span class="s2">&#34;0.0.0.0&#34;</span><span class="p">,</span><span class="nt">&#34;HostPort&#34;</span><span class="p">:</span><span class="s2">&#34;8881&#34;</span><span class="p">}]}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h3 id="ps">ps</h3>
<ul>
<li>æŸ¥çœ‹å½“å‰è¿è¡Œçš„å®¹å™¨ï¼š<code>docker ps </code>
<ul>
<li>æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ ï¼š<code>docker ps -a</code></li>
<li>æŸ¥çœ‹å ç”¨ :<code>docker ps -s</code></li>
<li><a href="https://docs.docker.com/engine/reference/commandline/ps/#formatting">ps formatting</a></li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">    .ID 	    Container ID
</span></span><span class="line"><span class="cl">    .Image 	    Image ID
</span></span><span class="line"><span class="cl">    .Command 	Quoted command
</span></span><span class="line"><span class="cl">    .CreatedAt 	Time when the container was created.
</span></span><span class="line"><span class="cl">    .RunningFor Elapsed time since the container was started.
</span></span><span class="line"><span class="cl">    .Ports 	    Exposed ports.
</span></span><span class="line"><span class="cl">    .Status 	Container status.
</span></span><span class="line"><span class="cl">    .Size 	    Container disk size.
</span></span><span class="line"><span class="cl">    .Names 	    Container names.
</span></span><span class="line"><span class="cl">    .Labels 	All labels assigned to the container.
</span></span><span class="line"><span class="cl">    .Label 	    Value of a specific label for this container. For example &#39;{{.Label &#34;com.docker.swarm.cpu&#34;}}&#39;
</span></span><span class="line"><span class="cl">    .Mounts 	Names of the volumes mounted in this container.
</span></span><span class="line"><span class="cl">    .Networks 	Names of the networks attached to this container.
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="create">create</h3>
<blockquote>
<p><a href="https://docs.docker.com/engine/reference/commandline/create">å®˜æ–¹æ–‡æ¡£</a></p>
</blockquote>
<h3 id="run">run</h3>
<blockquote>
<p><a href="http://www.open-open.com/lib/view/open1422492851548.html">Docker run å‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•</a>
ç­‰ä»·äº docker create å† docker start</p>
</blockquote>
<ul>
<li><code>docker run -d --name conrainer-name image-name touch a.md</code> ï¼Œå¦‚æœé•œåƒæœ¬åœ°æ²¡æœ‰ä¼šè‡ªåŠ¨pull
<ul>
<li><code>--name</code> é…ç½®å®¹å™¨åå­—</li>
<li><code>-d</code> åå°å¯åŠ¨ç¨‹åº</li>
<li><code>-i</code> äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨(æ ‡å‡†è¾“å…¥å’Œæ ‡å‡†è¾“å‡º) <code>docker run  -it ubuntu /bin/bash</code></li>
<li><code>-t</code> å®¹å™¨å¯åŠ¨åè¿›å…¥å…¶å‘½ä»¤è¡Œ</li>
<li><code>-v</code> å°†æœ¬åœ°æ–‡ä»¶å¤¹å»ºç«‹æ˜ å°„åˆ°å®¹å™¨å†… <code>-v æœ¬æœº:å®¹å™¨</code></li>
<li><code>-p</code> ç«¯å£æ˜ å°„å·¦æœ¬æœºå³å®¹å™¨ï¼š<code>-p 44:22</code>, ä¸»æœºå®¹å™¨ç«¯å£ç›¸åŒï¼š<code>-p 22</code>
<ul>
<li>å°†æ‰€æœ‰EXPOSEçš„ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºä¸Šçš„éšæœºç«¯å£<code>-P</code></li>
<li>ç»‘å®šudpç«¯å£ <code>-p 44:22/udp</code></li>
</ul>
</li>
<li><code>--env name=&quot;tanky&quot;</code> è®¾ç½®ç¯å¢ƒå˜é‡</li>
<li><code>--cpu-shares</code> è®¾ç½®CPUçš„ç›¸å¯¹æƒé‡ï¼Œåªåœ¨linkä¹‹é—´å®¹å™¨çš„æƒé‡æ¯”ä¾‹</li>
<li><code>--cpuset-cpus</code> é™åˆ¶åªèƒ½è¿è¡Œåœ¨æŸæ ‡å·çš„CPUä¸Š</li>
<li><code>--user</code> -u é™åˆ¶ç”¨æˆ·</li>
<li><code>--cap-drop</code> å»é™¤èƒ½åŠ›</li>
<li><code>--link</code> é“¾æ¥å…¶ä»–å®¹å™¨</li>
<li><code>--rm</code> å®¹å™¨è¿è¡Œç»“æŸé€€å‡ºå°±è‡ªåŠ¨åˆ é™¤è¯¥å®¹å™¨ æ³¨æ„å’Œ<code>-d</code>ä¸èƒ½å…±å­˜</li>
<li><code>--restart=always</code> è®¾ç½®è¯¥å®¹å™¨éšdokcer æœåŠ¡è‡ªå¯åŠ¨</li>
<li><code>--hostname hostname</code> æŒ‡å®šå®¹å™¨çš„ hostname</li>
<li><code>--init</code> èƒ½å¢åŠ  docker-init è¿›ç¨‹ä½œä¸º1å·è¿›ç¨‹ entrypoint æˆ– cmd ä¸­çš„å‘½ä»¤æˆä¸ºdocker-init å­è¿›ç¨‹</li>
</ul>
</li>
</ul>
<p><code>-e TZ=&quot;Asia/Shanghai&quot; -v /etc/localtime:/etc/localtime:ro</code></p>
<h4 id="èµ„æºé™åˆ¶">èµ„æºé™åˆ¶</h4>
<blockquote>
<p><a href="https://www.cnblogs.com/zhuochong/p/9728383.html">Docker CPU å†…å­˜ èµ„æºé™åˆ¶</a></p>
</blockquote>
<blockquote>
<p><strong><code>å†…å­˜é™åˆ¶</code></strong></p>
</blockquote>
<ul>
<li>é™åˆ¶æœ€å¤§å†…å­˜100M <code>--memory 100M</code> æˆ–è€… <code>-m 100M</code></li>
<li>é…ç½®äº¤æ¢å†…å­˜ä¸å—é™åˆ¶ <code>--memory-swap -1</code>
<ul>
<li>ä¸é…ç½®è¯¥é¡¹ æˆ–è€… è¯¥é¡¹å°äº &ndash;memory åˆ™éƒ½æ˜¯é‡‡ç”¨é»˜è®¤å€¼, &ndash;memory çš„ä¸¤å€</li>
</ul>
</li>
</ul>
<blockquote>
<p><a href="https://blog.opskumu.com/docker-memory-limit.html">å‚è€ƒ: Docker èµ„æºé™åˆ¶ä¹‹å†…å­˜</a></p>
</blockquote>
<h3 id="exec">exec</h3>
<ul>
<li>
<p>ç™»å½•å®¹å™¨ï¼š</p>
<ul>
<li><code>docker exec -it å®¹å™¨nameæˆ–id bash </code></li>
<li><code>docker attach å®¹å™¨id</code> è¿™ä¸ªå‘½ä»¤è™½ç„¶ç®€å•ï¼Œä½†æ˜¯é€€å‡ºä¼šè¯å°±è‡ªåŠ¨å…³é—­äº†å®¹å™¨</li>
</ul>
</li>
<li>
<p>è¿™äº›é€‰é¡¹ä¸åŠ å°±æ˜¯é»˜è®¤å€¼ï¼ŒåŠ ä¸ŠçŸ­å‚æ•°å½¢å¼å°±æ˜¯è®¾ä¸ºå¦ä¸€ä¸ªå€¼ å¦‚ -t</p>
<ul>
<li><code>-i </code>ï¼Œ<code>--interactive=ture|false</code> æ‰“å¼€æ ‡å‡†è¾“å…¥æ¥å—ç”¨æˆ·è¾“å…¥å‘½ä»¤</li>
<li><code>--privileged=true|false</code> æ˜¯å¦ç»™ä»¥æœ€é«˜æƒé™</li>
<li><code>-t</code>ï¼Œ<code>--tty=true|false</code> æ˜¯å¦åˆ†é…ä¼ªç»ˆç«¯</li>
<li><code>-u</code>ï¼Œ<code>--user=&quot;&quot;</code> æ‰§è¡Œå‘½ä»¤çš„ç”¨æˆ·æˆ–ID</li>
</ul>
</li>
<li>
<p>ä½¿ç”¨ nsenter è¿æ¥åˆ°å®¹å™¨:</p>
<ul>
<li>PID=${docker-pid å®¹å™¨id}</li>
<li>nsenter &ndash;target $PID &ndash;mount &ndash;uts &ndash;ipc &ndash;net &ndash;pid</li>
</ul>
</li>
</ul>
<h3 id="port">port</h3>
<blockquote>
<p>æŸ¥çœ‹å®¹å™¨çš„ç«¯å£æ˜ å°„æƒ…å†µï¼Œ è¾“å‡ºæ˜¯å·¦å®¹å™¨å³æœ¬æœºï¼Œ å’Œä½¿ç”¨ç›¸å</p>
</blockquote>
<hr>
<h2 id="ç«¯å£æ˜ å°„">ç«¯å£æ˜ å°„</h2>
<ul>
<li>å½“ä¸æŒ‡å®šå¯¹åº”çš„å‚æ•°å®¹å™¨é»˜è®¤ä¸å¼€æ”¾ä»»ä½•ç«¯å£ç»™å¤–éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨ <code>-P</code> æˆ– <code>-p</code> å‚æ•°æ¥å¼€æ”¾
<ul>
<li>-P éšæœºæ˜ å°„ä¸€ä¸ª 49000-49900 çš„ç«¯å£åˆ°å®¹å™¨å¼€æ”¾çš„ç«¯å£</li>
<li>-p  <code>IP:HostPort:ContainerPort | IP::ContainerPort | HostPort:ContainerPort</code>
<ul>
<li>æ˜ å°„åˆ°æŒ‡å®šIPçš„æŒ‡å®šç«¯å£<code>IP:HostPort:ContainerPort</code></li>
<li>æ˜ å°„åˆ°æŒ‡å®šIPçš„ä»»æ„ç«¯å£<code>IP::ContainerPort</code></li>
<li>æ˜ å°„åˆ°æ‰€æœ‰æ¥å£çš„åœ°å€çš„æŒ‡å®šç«¯å£<code>HostPort:ContainerPort</code></li>
</ul>
</li>
<li>è¿˜å¯ä»¥ä½¿ç”¨ udpæ¥æ ‡è®°ä¸ºudpç±»å‹ <code>docker run -d -p 127.0.0.1::5000/udp ubuntu apt update</code></li>
</ul>
</li>
<li>æŸ¥çœ‹ç«¯å£
<ul>
<li>æŸ¥çœ‹å®¹å™¨å†…5000å¯¹åº”çš„å¤–ç«¯å£ <code>docker port ubuntu17 5000</code></li>
<li>æŸ¥çœ‹å®¹å™¨çš„å…·ä½“ä¿¡æ¯ <code>docker inspect å®¹å™¨id</code></li>
</ul>
</li>
</ul>
<hr>
<h1 id="æ•°æ®å­˜å‚¨">æ•°æ®å­˜å‚¨</h1>
<h2 id="æ–‡ä»¶ç³»ç»Ÿ">æ–‡ä»¶ç³»ç»Ÿ</h2>
<ul>
<li>AUFS (AnotherUnionFS)  <code>Ubuntu/Debiané»˜è®¤</code></li>
<li>Device Mapperï¼š<code>CentOS/RedHaté»˜è®¤</code></li>
</ul>
<h2 id="æ•°æ®å·">æ•°æ®å·</h2>
<blockquote>
<p><a href="http://www.open-open.com/lib/view/open1403571027233.html">Docker ä¸­ç®¡ç†æ•°æ®</a>
<a href="http://www.open-open.com/lib/view/open1421996521062.html">å‚è€ƒ: ç»™ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„Dockerå®¹å™¨åŠ¨æ€æ·»åŠ Volume</a></p>
</blockquote>
<ul>
<li>
<p>æ•°æ®å·æ˜¯ä¸€ä¸ªå¯ä¾›å®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•ï¼Œå®ƒå°†å®¿ä¸»æœºæ“ä½œç³»ç»Ÿç›®å½•æ˜ å°„è¿›å®¹å™¨ ç±»ä¼¼äº mountæ“ä½œ</p>
<ul>
<li>æ•°æ®å·å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«é‡ç”¨</li>
<li>æ•°æ®å·å†…æ•°æ®çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆï¼Œæ— è®ºæ˜¯å®¹å™¨å†…æ“ä½œè¿˜æ˜¯æœ¬åœ°æ“ä½œ</li>
<li>å¯¹æ•°æ®å·çš„æ›´æ–°ä¸ä¼šå½±å“é•œåƒï¼Œè§£è€¦äº†åº”ç”¨å’Œæ•°æ®</li>
<li>å·ä¼šä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨ï¼Œæ‰å¯ä»¥å®‰å…¨çš„å¸è½½</li>
</ul>
</li>
<li>
<p><code>docker run -v dir:dir[:ro]</code> ä¸€èˆ¬æ˜¯åˆ›å»ºå®¹å™¨æ—¶ä½¿ç”¨ï¼Œå’Œ-pç±»ä¼¼å¯ä»¥å¤šä¸ªï¼Œå·¦æœ¬æœºå³å®¹å™¨ é»˜è®¤rwæƒé™å¯ä»¥æŒ‡å®š roåªè¯»</p>
<ul>
<li>å¯ä»¥å°†ä¸€ä¸ªæ–‡ä»¶æŒ‚è½½ä¸ºæ•°æ®å·ï¼Œä½†æ˜¯æ–‡ä»¶å¤¹æ›´å¥½ï¼Œæ–‡ä»¶å¯èƒ½ä¼šæœ‰é—®é¢˜å‡ºç°</li>
</ul>
</li>
<li>
<p>æŒ‚è½½å®¿ä¸»æœºæ—¶åŒºåŠæ—¶é—´ <code>/etc/localtime:/etc/localtime</code></p>
</li>
</ul>
<h2 id="æ•°æ®å·å®¹å™¨">æ•°æ®å·å®¹å™¨</h2>
<ul>
<li><code>docker run -it -v /test --name data ubuntu </code> è¿è¡Œä¸€ä¸ªæŒ‚è½½äº†æ•°æ®å·çš„å®¹å™¨</li>
<li>å¼•ç”¨æ•°æ®å·å®¹å™¨ æ¥æŒ‚è½½æ•°æ®å·ï¼š<code>docker run -it --volumes-from data --name db1 ubuntu</code></li>
<li>ä»å·²ç»æŒ‚è½½äº†æ•°æ®å·å®¹å™¨çš„å®¹å™¨ æ¥æŒ‚è½½æ•°æ®å·ï¼š<code>docker run -it --volumes-from db1 --name db2 ubuntu</code></li>
<li>ä½¿ç”¨ <code>--volumes-from</code> å‚æ•°æ‰€æŒ‚è½½æ•°æ®å·çš„å®¹å™¨å¹¶ä¸éœ€è¦ä¿æŒåœ¨è¿è¡ŒçŠ¶æ€</li>
<li>å¦‚æœåˆ é™¤äº†æŒ‚è½½çš„å®¹å™¨ï¼Œæ•°æ®å·å¹¶ä¸ä¼šè‡ªåŠ¨åˆ é™¤ï¼Œè€Œæ˜¯è¦åœ¨åˆ é™¤æœ€åä¸€ä¸ªå®¹å™¨æ—¶ ä½¿ç”¨ <code>docker rm -v</code> æ¥å£°æ˜åˆ é™¤å®¹å™¨å¹¶åˆ é™¤å…³è”çš„æ•°æ®å·</li>
</ul>
<p><code>åˆ©ç”¨æ•°æ®å·å®¹å™¨æ¥è¿ç§»æ•°æ®</code></p>
<ul>
<li>å¤‡ä»½ï¼š
<ul>
<li><code>docker run --volumes-from data -v $(pwd):/backup --name worker ubuntu tar cvf /backup/backup.tar /data</code></li>
<li>å…ˆåŸºäºUbuntuåˆ›å»ºä¸€ä¸ªworkerå®¹å™¨å¹¶å¼•ç”¨äº†æ•°æ®å·å®¹å™¨dataï¼Œç„¶åå°†å½“å‰ç›®å½•ä½œä¸ºæ•°æ®å·æŒ‚è½½è¿›å»ï¼Œå¹¶æ‰§è¡Œtarå‘½ä»¤ï¼Œæ‰“åŒ…åˆ°æ•°æ®å·å®¹å™¨çš„ç›®å½•ä¸‹</li>
<li>å®ç°äº†å°†å½“å‰ç›®å½•å½’æ¡£åˆ°æ•°æ®å·å®¹å™¨ä¸‹</li>
</ul>
</li>
<li>æ¢å¤ï¼š
<ul>
<li>åˆ›å»ºä¸€ä¸ªå¸¦æœ‰æ•°æ®å·çš„å®¹å™¨ï¼ˆç›®æ ‡å®¹å™¨ï¼‰<code>docker run -v /data --name reuse ubuntu /bin/bash</code></li>
<li>è§£å‹å½“å‰ç›®å½•çš„taræ–‡ä»¶åˆ°æ•°æ®å·å®¹å™¨ä¸­ <code>docker run --volumes-from reuse -v $(pwd):/backup busybox tar xvf /backup/backup.tar</code></li>
<li>è¿™ä¸ªå°±æ˜¯å®ç°äº†å°†æœ¬åœ°çš„å½’æ¡£æ•°æ®æ”¾åˆ°æŒ‡å®šçš„å®¹å™¨å†…ï¼Œå¦‚æœè¦ä»æ•°æ®å·å®¹å™¨ä¸­æ¢å¤åˆ°åˆ«çš„å®¹å™¨å°±åªè¦æŒ‚è½½å¯¹åº”çš„æ•°æ®å·å®¹å™¨ç„¶åè¿›ç›®å½•ç›´æ¥è§£å‹å³å¯</li>
</ul>
</li>
</ul>
<hr>
<h1 id="å®¹å™¨ç¼–æ’">å®¹å™¨ç¼–æ’</h1>
<h2 id="docker-compose">Docker-Compose</h2>
<blockquote>
<p><a href="https://docs.docker.com/compose/">Official</a></p>
</blockquote>
<p>å£°æ˜å¼ç¯å¢ƒï¼Œç®¡ç†å¤šå®¹å™¨ï¼Œ å¹¶å¤„ç†å¥½ç›¸å…³èµ„æºçš„å…³ç³»</p>
<blockquote>
<p><a href="https://github.com/fecshop/yii2_fecshop_docker/blob/master/docker-compose.yml">Demo: å¼€æºç”µå•†å¹³å°</a>
<a href="http://www.cnblogs.com/xuxinkun/p/5473952.html">Demo: å®‰è£… Kafka</a></p>
</blockquote>
<ul>
<li><a href="https://docs.docker.com/compose/install/">å®‰è£…</a>
<ul>
<li>æœ€ç®€å•: <code>sudo pip install docker-compose</code></li>
</ul>
</li>
</ul>
<h3 id="é…ç½®æ–‡ä»¶">é…ç½®æ–‡ä»¶</h3>
<blockquote>
<p>ä¸€ä¸ªé…ç½®æ–‡ä»¶å°±è¡¨ç¤ºäº†ä¸€ç»„å®¹å™¨, ä»¥åŠç›¸å…³çš„ç½‘ç»œ,æ–‡ä»¶ç­‰é…ç½®, docker-compose éƒ½æ˜¯åŸºäºè¯¥é…ç½®æ–‡ä»¶è¿›è¡ŒåŸºæœ¬å‘½ä»¤æ“ä½œ<br>
è¯­æ³•ä¸Šå’Œ docker run åŸºæœ¬ä¸€è‡´, åªä¸è¿‡ä»¥ yml å½¢å¼é…ç½®è€Œå·²</p>
</blockquote>
<blockquote>
<p>å£°æ˜ä¸€ä¸ª xxx ç½‘ç»œ ä¾› service ä½¿ç”¨</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">xxx</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">external</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l">bridge</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ipam</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l">default</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">subnet</span><span class="p">:</span><span class="w"> </span><span class="m">10.12.0.0</span><span class="l">/16</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;2.1&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">zookeeper</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">${IMAGE_NAME:-defaultImage}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">expose</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;6666&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;6666:6666&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/etc/localtime:/etc/localtime</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">networks</span><span class="p">:</span><span class="w"> </span><span class="c"># å¯ä¸é…ç½®ï¼ŒDockerä¼šé»˜è®¤åˆ†é…ä¸€ä¸ªip 172.xx å¼€å¤´</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">xxx </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l">./bin/start.sh</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">links</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="s2">&#34;mysql:mysql&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">NAME=who</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ä½¿ç”¨å‘½ä»¤">ä½¿ç”¨å‘½ä»¤</h3>
<blockquote>
<p>å¿…é¡»è¦åœ¨ docker-compose.yml æ–‡ä»¶ç›®å½•ä¸‹æ‰§è¡Œ</p>
</blockquote>
<ul>
<li>help</li>
<li>up          # è‡ªåŠ¨å®Œæˆæ„å»ºé•œåƒï¼Œ<code>åˆ›å»º</code>æœåŠ¡ï¼Œå¯åŠ¨æœåŠ¡ï¼Œå¹¶å…³è”æœåŠ¡ç­‰æ“ä½œ, <code>-d</code> åå°æ‰§è¡Œ</li>
<li>down        # åœæ­¢å¹¶<code>åˆ é™¤</code>è¯¥æœåŠ¡çš„æ‰€æœ‰å®¹å™¨, ç§»é™¤ç½‘ç»œ, <code>-v</code> ç§»é™¤æŒ‚è½½çš„volume</li>
<li>start       # å¯åŠ¨å­˜åœ¨çš„æœåŠ¡</li>
<li>stop        # åœæ­¢</li>
<li>restart     # é‡å¯é¡¹ç›®ä¸­æœåŠ¡</li>
<li>exec        # è¿›å…¥æŒ‡å®šå®¹å™¨</li>
<li>image       # åˆ—å‡º Compose æ–‡ä»¶ä¸­åŒ…å«çš„é•œåƒ</li>
<li>kill [SERVICE&hellip;]</li>
<li>pause [SERVICE&hellip;]</li>
<li>unpause [SERVICE&hellip;]</li>
<li>ps          # åˆ—å‡ºé¡¹ç›®ä¸­æ‰€æœ‰å®¹å™¨</li>
</ul>
<h3 id="tips">Tips</h3>
<blockquote>
<p>ymlæ‰€åœ¨çš„ç›®å½•åä¼šä½œä¸ºå®¹å™¨åçš„å‰ç¼€</p>
</blockquote>
<hr>
<h2 id="docker-machine">Docker-Machine</h2>
<blockquote>
<p>åˆ›å»ºä¸€ä¸ªdockeré›†ç¾¤ç¯å¢ƒ <a href="https://docs.docker.com/machine/install-machine">å®˜æ–¹æ–‡æ¡£å®‰è£…</a></p>
</blockquote>
<p>Error with pre-create check: &ldquo;VBoxManage not found. Make sure VirtualBox is installed and VBoxManage is in the path
Error with pre-create check: &ldquo;This computer doesn&rsquo;t have VT-X/AMD-v enabled. Enabling it in the BIOS is mandatory&rdquo;</p>
<h2 id="docker-swarm">Docker-Swarm</h2>
<hr>
<h1 id="ç½‘ç»œ">ç½‘ç»œ</h1>
<blockquote>
<p><a href="https://docs.docker.com/network/">Official Doc</a> åˆ†ä¸º none host brige(ç¼ºçœ) user-defined å‡ ç§ç±»å‹</p>
</blockquote>
<blockquote>
<p>Connection reset by peer</p>
</blockquote>
<ol>
<li>å¯èƒ½æ˜¯ docker0 å’Œæœ¬èº«ç½‘æ®µå†²çªäº† <code>docker network inspect bridge</code> å¯¹æ¯” <code>netstat -nr</code> æŸ¥çœ‹
<ul>
<li><a href="https://serverfault.com/questions/848075/docker-connection-reset-by-peer">Docker: connection reset by peer</a></li>
</ul>
</li>
<li>é‡ç½®ç½‘æ¡¥ <a href="https://blog.csdn.net/Alphr/article/details/107969190">Connection reset by peer</a> <code>åŸå› å¾…å¯»æ‰¾</code></li>
</ol>
<p><a href="https://www.jb51.net/article/208255.htm">è§„é¿ç½‘æ®µå†²çª</a></p>
<p>/etc/docker/daemon.json é¡¶çº§å…ƒç´ åŠ å…¥å¦‚ä¸‹é…ç½®ç½‘æ®µ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl">  <span class="s2">&#34;default-address-pools&#34;</span><span class="err">:</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">     <span class="p">{</span><span class="nt">&#34;scope&#34;</span><span class="p">:</span><span class="s2">&#34;local&#34;</span><span class="p">,</span><span class="nt">&#34;base&#34;</span><span class="p">:</span><span class="s2">&#34;172.80.0.0/16&#34;</span><span class="p">,</span><span class="nt">&#34;size&#34;</span><span class="p">:</span><span class="mi">24</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">     <span class="p">{</span><span class="nt">&#34;scope&#34;</span><span class="p">:</span><span class="s2">&#34;global&#34;</span><span class="p">,</span><span class="nt">&#34;base&#34;</span><span class="p">:</span><span class="s2">&#34;172.90.0.0/16&#34;</span><span class="p">,</span><span class="nt">&#34;size&#34;</span><span class="p">:</span><span class="mi">24</span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="none">None</h2>
<blockquote>
<p>docker run -it &ndash;network none  busybox</p>
</blockquote>
<ul>
<li>ä¸è”ç½‘çš„å®¹å™¨, ifconfig å¯ä»¥çœ‹åˆ°åªæœ‰ lo</li>
</ul>
<h2 id="host">Host</h2>
<blockquote>
<p>docker run -it &ndash;network host busybox</p>
</blockquote>
<ul>
<li>é‡‡ç”¨å®¿ä¸»æœºçš„ç½‘ç»œ, ä¹Ÿå°±æ˜¯è¯´å’Œå®¿ä¸»æœºä½¿ç”¨åŒä¸€ä¸ªç½‘ç»œç¯å¢ƒ, hostnameéƒ½æ˜¯hostçš„
<ol>
<li>ç‰¹ç‚¹æ˜¯æ€§èƒ½, ä½†æ˜¯ä¸å¤Ÿçµæ´», è¦è€ƒè™‘å’Œhostä¸Šçš„ç«¯å£å†²çªé—®é¢˜</li>
<li>ç›´æ¥é…ç½®hostçš„ç½‘ç»œ: ä¾‹å¦‚é…ç½®é˜²ç«å¢™å®¹å™¨</li>
</ol>
</li>
</ul>
<h2 id="bridge">Bridge</h2>
<blockquote>
<p>å®‰è£… Docker çš„æ—¶å€™, éƒ½ä¼šåˆ›å»ºä¸€ä¸ª docker0 çš„ç½‘æ¡¥ Linux bridge</p>
</blockquote>
<ul>
<li>å¦‚æœæ²¡æœ‰æŒ‡å®š <code>--network</code> æˆ–è€…ä½¿ç”¨ <code>--network default</code> åˆ›å»ºå®¹å™¨ éƒ½ä¼šé»˜è®¤æŒ‚è½½åˆ° docker0 ä¸Š</li>
<li>é€šè¿‡ <code>docker network inspect bridge</code> å‘½ä»¤å¯ä»¥çœ‹åˆ°å­ç½‘æ©ç æ˜¯ <code>172.17.0.0/16</code> ç½‘å…³æ˜¯ 172.17.0.1
<ul>
<li>ä¹Ÿå°±æ˜¯è¯´èƒ½å®¹çº³ 2çš„16æ¬¡å¹‚ -2 ä¸ªå®¹å™¨ (65534), å®¹å™¨åˆ›å»ºæ—¶ä¼šä¾æ¬¡åˆ†é…ip</li>
</ul>
</li>
</ul>
<blockquote>
<p>æ³¨æ„: æ­¤æ–¹å¼ä¸‹å®¹å™¨ä¹‹é—´æ˜¯äº’é€šçš„, é€šå¸¸ä½¿ç”¨çš„ <code>--link containerName:aliasName</code> ä¹Ÿåªä¸è¿‡æ˜¯åœ¨ /etc/hosts æ–‡ä»¶ä¸­æ·»åŠ äº†å®¹å™¨çš„ dns è€Œå·²</p>
</blockquote>
<blockquote>
<p>ç‰¹åˆ«å®¹æ˜“å‡ºç°é”ï¼Œä¸€ä¸ªæ²¡æœ‰å¯åŠ¨ï¼Œå…¶ä»–çš„éƒ½å¯åŠ¨ä¸äº† å°è¯•ï¼Ÿ <code>sudo service docker restart</code></p>
</blockquote>
<ul>
<li>ä¾‹å¦‚: <code>åˆ›å»ºä¸€ä¸ªMySQLå®¹å™¨ä¾›ä¸€ä¸ªUbuntuå®¹å™¨ä½¿ç”¨</code></li>
</ul>
<ol>
<li>åˆ›å»ºMySQLå®¹å™¨ <code>docker run --name mysql2 -e MYSQL_ROOT_PASSWORD=ad -d mysql</code></li>
<li>åˆ›å»ºUbuntuå®¹å™¨ <code>docker run -d --name test --link mysql2:db ubuntu</code>
<ul>
<li>linkå‚æ•°è¯´æ˜ ï¼š<code>--link name:alias</code> åœ¨çˆ¶å®¹å™¨ä¸­ä¼šå°†è¯¥æ˜ å°„åŠ å…¥hostæ–‡ä»¶ï¼Œæ‰€ä»¥æ— éœ€æ‰¾ipï¼Œç›´æ¥ä½¿ç”¨åˆ«å</li>
</ul>
</li>
<li>dockerä¼šè¿æ¥ä¸¤ä¸ªå®¹å™¨ï¼Œè€Œä¸ç”¨é€šè¿‡æš´éœ²ç«¯å£æ¥å®ç°ï¼Œwebå®¹å™¨çš„hostæ–‡ä»¶ä»¥åŠç¯å¢ƒå˜é‡éƒ½ä¼šè¿½åŠ ä¸Šmysql2çš„é…ç½®</li>
<li>æ‰€ä»¥åœ¨Ubuntuå®¹å™¨ä¸­è¿æ¥MySQLå®¹å™¨ï¼Œ <code>mysql -h db -u root -pad</code> å³å¯è¿æ¥ä¸Šmysql
<ul>
<li>å¦‚éœ€çœ‹IPå°± <code>cat /etc/hosts</code> ä¸­myslqå®¹å™¨åˆ«åä¸ºdbå€¼çš„IPåœ°å€</li>
<li>æˆ–è€…ç›´æ¥ <code>ping db</code> <code>apt install  inetutils-ping</code> <code>ifconfigå°±è¦å®‰è£…net-tools</code></li>
</ul>
</li>
</ol>
<ul>
<li>ä¾‹å¦‚ï¼š<code>åˆ›å»ºä¸€ä¸ªNginxå’Œä¸€ä¸ªSpringbootæ­å»ºçš„webæœåŠ¡</code>
<ul>
<li>æ„å»ºSpringbootåº”ç”¨é•œåƒï¼Œæ„å»ºåº”ç”¨å®¹å™¨ å¼€æ”¾8888ç«¯å£</li>
<li>æ–°å»ºnginxå®¹å™¨ï¼š<code>docker run --name test-nginx -d -p 80:80 -v /home/kuang/nginx/conf/:/etc/nginx/conf.d/:ro --link you:web nginx</code></li>
</ul>
</li>
<li>é…ç½®æ–‡ä»¶ï¼š<code>ä¸€æ ·çš„cat /etc/hosts æŸ¥çœ‹å®¹å™¨çš„IP</code>ï¼Œ å…¶å®æœ€ç®€å•å°±æ˜¯ç”¨linké…ç½®æ—¶çš„åˆ«åå³å¯ï¼Œå› ä¸ºDockerå·²ç»å¸®æˆ‘ä»¬é…ç½®å¥½äº†hostã€‚ã€‚ã€‚</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">    upstream backend {
</span></span><span class="line"><span class="cl">        server 172.17.0.4:8888;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    server {
</span></span><span class="line"><span class="cl">        listen 80;
</span></span><span class="line"><span class="cl">        server_name backend;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        location / {
</span></span><span class="line"><span class="cl">            proxy_set_header X-Real-IP $remote_addr;
</span></span><span class="line"><span class="cl">            proxy_set_header X-Forward-For $proxy_add_x_forwarded_for;
</span></span><span class="line"><span class="cl">            proxy_set_header Host $http_host;
</span></span><span class="line"><span class="cl">            proxy_set_header X-Nginx-Proxt true;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            proxy_pass http://backend;
</span></span><span class="line"><span class="cl">            proxy_redirect off;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    }
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><a href="https://www.weave.works/">weave</a> <code>èƒ½è§£å†³è·¨å®¿ä¸»æœºçš„å®¹å™¨äº’è”é—®é¢˜</code></p>
</blockquote>
<h2 id="user-defined">User-defined</h2>
<blockquote>
<p>Docker æä¾›ä¸‰ç§ ç½‘ç»œé©±åŠ¨ bridge overlay macvlan, åä¸¤è€…å¯ç”¨äºè·¨ä¸»æœºçš„å®¹å™¨é€šä¿¡</p>
</blockquote>
<blockquote>
<p>å®¹å™¨åˆ†é…ç‹¬ç«‹ip</p>
</blockquote>
<ol>
<li>å®¿ä¸»æœºæ–°å»ºç½‘ç»œ <code>docker network create --subnet=172.13.0.0/24 test-standby</code></li>
<li>å®¿ä¸»æœºæ–°å»ºå®¹å™¨å¹¶åˆ†é…ip <code>docker run -it --net test-standby --ip 172.13.0.8 -p 6379 --name redis-stand redis:5.0.9-alpine</code></li>
<li>å®¿ä¸»æœº é…ç½®ä¸ºè™šæ‹Ÿè·¯ç”±å™¨ å®Œæˆè½¬å‘
<ul>
<li><code>sysctl -w net.ipv4.ip_forward=1</code></li>
<li>ip route æŸ¥çœ‹è·¯ç”±è¡¨ï¼Œå¹¶ ping 172.13.0.8 æŸ¥çœ‹è·¯ç”±è¡¨æ˜¯å¦æ­£ç¡®</li>
</ul>
</li>
<li>å…¶ä»–ä¸»æœºä¸ŠåŠ ä¸Šè¿™ä¸ªè·¯ç”±ï¼Œå°±å¯ä»¥è®¿é—® å®¹å™¨äº†
<ul>
<li>Windows: <code>route add 172.13.0.0 mask 255.255.255.0 192.168.7.110</code></li>
<li>Linux: <code>ip route add 172.13.0.0/24 via 192.168.7.110</code></li>
</ul>
</li>
</ol>
<h2 id="è·¨ä¸»æœºå®¹å™¨é€šä¿¡">è·¨ä¸»æœºå®¹å™¨é€šä¿¡</h2>
<p><code>--ipc=host</code> IPC</p>
<h3 id="overlay">overlay</h3>
<blockquote>
<p><a href="http://dockone.io/article/2717">å‚è€ƒ: DOCKERçš„å†…ç½®OVERLAYç½‘ç»œ</a></p>
</blockquote>
<hr>
<h1 id="dockerfile">Dockerfile</h1>
<blockquote>
<p><a href="/Linux/Container/DockerFiles.md">Dockerfileæ–‡ä»¶å­¦ä¹ </a></p>
</blockquote>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">æ–‡ç« ä½œè€…</span>
    <span class="item-content">Kuangcp</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">ä¸Šæ¬¡æ›´æ–°</span>
    <span class="item-content">
        2018-12-15
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/%E5%9F%BA%E7%A1%80/">åŸºç¡€</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/linux/container/dockeradvance/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Dockerè¿›é˜¶</span>
            <span class="prev-text nav-mobile">ä¸Šä¸€ç¯‡</span>
          </a>
        <a class="next" href="/post/linux/redhat/centosbase/">
            <span class="next-text nav-default">Centos</span>
            <span class="next-text nav-mobile">ä¸‹ä¸€ç¯‡</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://github.com/Kuangcp" class="iconfont icon-github" title="github"></a>
  <a href="https://www.kuangcp.top/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    ç”± <a class="hexo-link" href="https://gohugo.io">Hugo</a> å¼ºåŠ›é©±åŠ¨
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    ä¸»é¢˜ - 
    <a class="theme-link" href="https://gitee.com/gin9/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2017 - 
    2024<span class="heart"><i class="iconfont icon-heart"></i></span>
    <span>Kuangcp</span>
    
    <br/><span><a href='http://beian.miit.gov.cn/'; target=_blank>www.kuangcp.top</a></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.min.js" integrity="sha256-jwCP0NAdCBloaIWTWHmW4i3snUNMHUNO+jr9rYd2iOI=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.locales.min.js" integrity="sha256-ZwofwC1Lf/faQCzN7nZtfijVV6hSwxjQMwXL4gn9qU8=" crossorigin="anonymous"></script>
  <script><!-- NOTE: timeago.js uses the language code format like "zh_CN" (underscore and case sensitive) -->
    var languageCode = "zh-cn".replace(/-/g, '_').replace(/_(.*)/, function ($0, $1) {return $0.replace($1, $1.toUpperCase());});
    timeago().render(document.querySelectorAll('.timeago'), languageCode);
    timeago.cancel();  
  </script>



<script type="text/javascript" src="/js/main.min.64437849d125a2d603b3e71d6de5225d641a32d17168a58106e0b61852079683.js"></script>






</body>
</html>
