<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Nginx - Mythos Â· Java Developer</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Kuangcp" /><meta name="description" content="ğŸ’  Nginx 1.1. Nginxçš„å®‰è£… 1.1.1. å‘½ä»¤å®‰è£… 1.1.2. ç¼–è¯‘å®‰è£… 1.1.3. Dockerå®‰è£… 1.2. å‘½ä»¤å‚æ•° å¯è§†åŒ–ç®¡ç†å·¥å…· å†…ç½®å˜é‡ é…ç½®ä½¿ç”¨ 4.1. é™æ€èµ„æºWebæœåŠ¡å™¨ 4.2. åå‘ä»£ç†å¤šä¸ªæœåŠ¡" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.99.0 with theme even" />


<link rel="canonical" href="https://www.kuangcp.top/post/linux/tool/nginx/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.b5a744db6de49a86cadafb3b70f555ab443f83c307a483402259e94726b045ff.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Nginx" />
<meta property="og:description" content="ğŸ’  Nginx 1.1. Nginxçš„å®‰è£… 1.1.1. å‘½ä»¤å®‰è£… 1.1.2. ç¼–è¯‘å®‰è£… 1.1.3. Dockerå®‰è£… 1.2. å‘½ä»¤å‚æ•° å¯è§†åŒ–ç®¡ç†å·¥å…· å†…ç½®å˜é‡ é…ç½®ä½¿ç”¨ 4.1. é™æ€èµ„æºWebæœåŠ¡å™¨ 4.2. åå‘ä»£ç†å¤šä¸ªæœåŠ¡" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.kuangcp.top/post/linux/tool/nginx/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2018-12-15T12:05:09+00:00" />
<meta property="article:modified_time" content="2018-12-15T12:05:09+00:00" />

<meta itemprop="name" content="Nginx">
<meta itemprop="description" content="ğŸ’  Nginx 1.1. Nginxçš„å®‰è£… 1.1.1. å‘½ä»¤å®‰è£… 1.1.2. ç¼–è¯‘å®‰è£… 1.1.3. Dockerå®‰è£… 1.2. å‘½ä»¤å‚æ•° å¯è§†åŒ–ç®¡ç†å·¥å…· å†…ç½®å˜é‡ é…ç½®ä½¿ç”¨ 4.1. é™æ€èµ„æºWebæœåŠ¡å™¨ 4.2. åå‘ä»£ç†å¤šä¸ªæœåŠ¡"><meta itemprop="datePublished" content="2018-12-15T12:05:09+00:00" />
<meta itemprop="dateModified" content="2018-12-15T12:05:09+00:00" />
<meta itemprop="wordCount" content="3096">
<meta itemprop="keywords" content="Nginx," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Nginx"/>
<meta name="twitter:description" content="ğŸ’  Nginx 1.1. Nginxçš„å®‰è£… 1.1.1. å‘½ä»¤å®‰è£… 1.1.2. ç¼–è¯‘å®‰è£… 1.1.3. Dockerå®‰è£… 1.2. å‘½ä»¤å‚æ•° å¯è§†åŒ–ç®¡ç†å·¥å…· å†…ç½®å˜é‡ é…ç½®ä½¿ç”¨ 4.1. é™æ€èµ„æºWebæœåŠ¡å™¨ 4.2. åå‘ä»£ç†å¤šä¸ªæœåŠ¡"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Mythos</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Mythos</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Nginx</h1>

      <div class="post-meta">
        <span class="post-time"> 2018-12-15 </span>
        <div class="post-category">
            <a href="/categories/%E5%B7%A5%E5%85%B7/"> å·¥å…· </a>
            </div>
          <span class="more-meta"> 3096 words </span>
          <span class="more-meta"> 7 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#nginx">Nginx</a>
      <ul>
        <li><a href="#nginxçš„å®‰è£…">Nginxçš„å®‰è£…</a>
          <ul>
            <li><a href="#å‘½ä»¤å®‰è£…">å‘½ä»¤å®‰è£…</a></li>
            <li><a href="#ç¼–è¯‘å®‰è£…">ç¼–è¯‘å®‰è£…</a></li>
            <li><a href="#dockerå®‰è£…">Dockerå®‰è£…</a></li>
          </ul>
        </li>
        <li><a href="#å‘½ä»¤å‚æ•°">å‘½ä»¤å‚æ•°</a></li>
      </ul>
    </li>
    <li><a href="#å¯è§†åŒ–ç®¡ç†å·¥å…·">å¯è§†åŒ–ç®¡ç†å·¥å…·</a></li>
    <li><a href="#å†…ç½®å˜é‡">å†…ç½®å˜é‡</a></li>
    <li><a href="#é…ç½®ä½¿ç”¨">é…ç½®ä½¿ç”¨</a>
      <ul>
        <li><a href="#é™æ€èµ„æºwebæœåŠ¡å™¨">é™æ€èµ„æºWebæœåŠ¡å™¨</a></li>
        <li><a href="#åå‘ä»£ç†å¤šä¸ªæœåŠ¡">åå‘ä»£ç†å¤šä¸ªæœåŠ¡</a>
          <ul>
            <li><a href="#é™æ€èµ„æºåä»£ç†åç«¯">é™æ€èµ„æº+åä»£ç†åç«¯</a></li>
            <li><a href="#å‰åç«¯åˆ†ç¦»æ—¶é¿å…è·¨åŸŸ">å‰åç«¯åˆ†ç¦»æ—¶é¿å…è·¨åŸŸ</a></li>
          </ul>
        </li>
        <li><a href="#é…ç½®https">é…ç½®https</a>
          <ul>
            <li><a href="#è‡ªç­¾å‘è¯ä¹¦">è‡ªç­¾å‘è¯ä¹¦</a></li>
            <li><a href="#é€šè¿‡-certbot-é…ç½®-https">é€šè¿‡ certbot é…ç½® HTTPS</a></li>
          </ul>
        </li>
        <li><a href="#é…ç½®websocketåå‘ä»£ç†">é…ç½®Websocketåå‘ä»£ç†</a></li>
        <li><a href="#è½¬å‘ä»£ç†">è½¬å‘ä»£ç†</a></li>
        <li><a href="#é˜²ç›—é“¾">é˜²ç›—é“¾</a></li>
        <li><a href="#gzip">gzip</a></li>
        <li><a href="#è´Ÿè½½å‡è¡¡">è´Ÿè½½å‡è¡¡</a>
          <ul>
            <li><a href="#è´Ÿè½½å‡è¡¡ç­–ç•¥">è´Ÿè½½å‡è¡¡ç­–ç•¥</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#nginx-plus">Nginx Plus</a></li>
    <li><a href="#keepalived">Keepalived</a></li>
    <li><a href="#åŒç±»åº”ç”¨">åŒç±»åº”ç”¨</a>
      <ul>
        <li><a href="#caddy">Caddy</a></li>
        <li><a href="#squid">Squid</a></li>
        <li><a href="#varnish">Varnish</a></li>
        <li><a href="#haproxy">HAProxy</a></li>
        <li><a href="#nuster">nuster</a></li>
      </ul>
    </li>
    <li><a href="#tips">Tips</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>ğŸ’ </p>
<ul>
<li>
<ol>
<li><a href="#nginx">Nginx</a></li>
</ol>
<ul>
<li>1.1. <a href="#nginx%E7%9A%84%E5%AE%89%E8%A3%85">Nginxçš„å®‰è£…</a>
<ul>
<li>1.1.1. <a href="#%E5%91%BD%E4%BB%A4%E5%AE%89%E8%A3%85">å‘½ä»¤å®‰è£…</a></li>
<li>1.1.2. <a href="#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85">ç¼–è¯‘å®‰è£…</a></li>
<li>1.1.3. <a href="#docker%E5%AE%89%E8%A3%85">Dockerå®‰è£…</a></li>
</ul>
</li>
<li>1.2. <a href="#%E5%91%BD%E4%BB%A4%E5%8F%82%E6%95%B0">å‘½ä»¤å‚æ•°</a></li>
</ul>
</li>
<li>
<ol start="2">
<li><a href="#%E5%8F%AF%E8%A7%86%E5%8C%96%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7">å¯è§†åŒ–ç®¡ç†å·¥å…·</a></li>
</ol>
</li>
<li>
<ol start="3">
<li><a href="#%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F">å†…ç½®å˜é‡</a></li>
</ol>
</li>
<li>
<ol start="4">
<li><a href="#%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8">é…ç½®ä½¿ç”¨</a></li>
</ol>
<ul>
<li>4.1. <a href="#%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90web%E6%9C%8D%E5%8A%A1%E5%99%A8">é™æ€èµ„æºWebæœåŠ¡å™¨</a></li>
<li>4.2. <a href="#%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%A4%9A%E4%B8%AA%E6%9C%8D%E5%8A%A1">åå‘ä»£ç†å¤šä¸ªæœåŠ¡</a>
<ul>
<li>4.2.1. <a href="#%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90+%E5%8F%8D%E4%BB%A3%E7%90%86%E5%90%8E%E7%AB%AF">é™æ€èµ„æº+åä»£ç†åç«¯</a></li>
<li>4.2.2. <a href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E6%97%B6%E9%81%BF%E5%85%8D%E8%B7%A8%E5%9F%9F">å‰åç«¯åˆ†ç¦»æ—¶é¿å…è·¨åŸŸ</a></li>
</ul>
</li>
<li>4.3. <a href="#%E9%85%8D%E7%BD%AEhttps">é…ç½®https</a>
<ul>
<li>4.3.1. <a href="#%E8%87%AA%E7%AD%BE%E5%8F%91%E8%AF%81%E4%B9%A6">è‡ªç­¾å‘è¯ä¹¦</a></li>
<li>4.3.2. <a href="#%E9%80%9A%E8%BF%87-certbot-%E9%85%8D%E7%BD%AE-https">é€šè¿‡ certbot é…ç½® HTTPS</a></li>
</ul>
</li>
<li>4.4. <a href="#%E9%85%8D%E7%BD%AEwebsocket%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86">é…ç½®Websocketåå‘ä»£ç†</a></li>
<li>4.5. <a href="#%E8%BD%AC%E5%8F%91%E4%BB%A3%E7%90%86">è½¬å‘ä»£ç†</a></li>
<li>4.6. <a href="#%E9%98%B2%E7%9B%97%E9%93%BE">é˜²ç›—é“¾</a></li>
<li>4.7. <a href="#gzip">gzip</a></li>
<li>4.8. <a href="#%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1">è´Ÿè½½å‡è¡¡</a>
<ul>
<li>4.8.1. <a href="#%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AD%96%E7%95%A5">è´Ÿè½½å‡è¡¡ç­–ç•¥</a></li>
</ul>
</li>
</ul>
</li>
<li>
<ol start="5">
<li><a href="#nginx-plus">Nginx Plus</a></li>
</ol>
</li>
<li>
<ol start="6">
<li><a href="#keepalived">Keepalived</a></li>
</ol>
</li>
<li>
<ol start="7">
<li><a href="#%E5%90%8C%E7%B1%BB%E5%BA%94%E7%94%A8">åŒç±»åº”ç”¨</a></li>
</ol>
<ul>
<li>7.1. <a href="#caddy">Caddy</a></li>
<li>7.2. <a href="#squid">Squid</a></li>
<li>7.3. <a href="#varnish">Varnish</a></li>
<li>7.4. <a href="#haproxy">HAProxy</a></li>
<li>7.5. <a href="#nuster">nuster</a></li>
</ul>
</li>
<li>
<ol start="8">
<li><a href="#tips">Tips</a></li>
</ol>
</li>
</ul>
<p>ğŸ’  2024-09-20 17:30:23</p>
<hr>
<h1 id="nginx">Nginx</h1>
<blockquote>
<p><a href="https://www.nginx.com/">Official Site</a> | <a href="https://docs.nginx.com">Official Doc</a><br>
<a href="http://tengine.taobao.org/">Tengine</a></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/dunwu/nginx-tutorial">nginx-tutorial</a></p>
</blockquote>
<h2 id="nginxçš„å®‰è£…">Nginxçš„å®‰è£…</h2>
<h3 id="å‘½ä»¤å®‰è£…">å‘½ä»¤å®‰è£…</h3>
<ul>
<li>å®‰è£… <code>sudo apt install nginx</code></li>
<li>å¯åŠ¨æœåŠ¡ <code>sudo nginx</code>
<ul>
<li>æˆ–è€…<code>sudo /etc/init.d/nginx start</code></li>
<li>æˆ–è€…  systemd æ–¹å¼ <code>systemctl start nginx</code></li>
</ul>
</li>
<li>å…³é—­ <code>sudo nginx -s quit</code>
<ul>
<li>æˆ–è€… <code>sudo /etc/init.d/nginx stop</code></li>
<li>æˆ–è€… systemd æ–¹å¼<code>systemctl stop nginx</code></li>
</ul>
</li>
</ul>
<h3 id="ç¼–è¯‘å®‰è£…">ç¼–è¯‘å®‰è£…</h3>
<blockquote>
<p>ä¸å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼è¿›è¡Œå®‰è£…ï¼Œå¾ˆå®¹æ˜“å‡ºç°å…¼å®¹é—®é¢˜</p>
</blockquote>
<ul>
<li>ä¸‹è½½ nginxï¼Œpcreï¼Œzlibï¼Œopenssl çš„å‹ç¼©åŒ…</li>
<li>è¿›å…¥è§£å‹æ ¹ç›®å½•ï¼ˆæŒ‰å®é™…æƒ…å†µé…ç½®ï¼‰
<code>é…ç½®å„ä¸ªåŒ…</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">    ./configure --sbin-path<span class="o">=</span>/usr/local/nginx/nginx <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --conf-path<span class="o">=</span>/usr/local/nginx/nginx.conf <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --pid-path<span class="o">=</span>/usr/local/nginx/nginx.pid <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --with-http_stub_status_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --with-http_ssl_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --with-pcre<span class="o">=</span>/home/kuang/pcre-8.20 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --with-openssl<span class="o">=</span>/home/kuang/openssl <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --with-zlib<span class="o">=</span>/home/kuang/zlib-1.2.11
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="dockerå®‰è£…">Dockerå®‰è£…</h3>
<blockquote>
<p><a href="https://hub.docker.com/r/library/nginx/">nginx hub å®˜æ–¹é•œåƒ</a></p>
</blockquote>
<h2 id="å‘½ä»¤å‚æ•°">å‘½ä»¤å‚æ•°</h2>
<ul>
<li><code>-s signal</code>
<ul>
<li>stop åœæ­¢</li>
<li>quit é€€å‡º</li>
<li>reopen é‡æ–°æ‰“å¼€</li>
<li>reload é‡è½½é…ç½®ï¼ˆä¿®æ”¹é…ç½®æ–‡ä»¶å¸¸ä½¿ç”¨ï¼‰</li>
</ul>
</li>
<li><code>-t</code> æµ‹è¯•é…ç½®æ–‡ä»¶</li>
</ul>
<hr>
<h1 id="å¯è§†åŒ–ç®¡ç†å·¥å…·">å¯è§†åŒ–ç®¡ç†å·¥å…·</h1>
<blockquote>
<p><a href="https://github.com/cym1102/nginxWebUI">nginxWebUI</a><br>
<a href="https://github.com/NginxProxyManager/nginx-proxy-manager">nginx-proxy-manager </a><br>
<a href="https://github.com/0xJacky/nginx-ui">0xJacky/nginx-ui: Yet another WebUI for Nginx</a><code>go+js</code></p>
</blockquote>
<hr>
<h1 id="å†…ç½®å˜é‡">å†…ç½®å˜é‡</h1>
<blockquote>
<p><a href="https://nginx.org/en/docs/varindex.html">Official Doc</a> | <a href="https://www.jianshu.com/p/deccac3a4fd0">Nginx å†…ç½®å˜é‡</a></p>
</blockquote>
<ul>
<li><code>$remote_addr</code> å®¢æˆ·ç«¯åœ°å€</li>
<li><code>$remote_port</code> å®¢æˆ·ç«¯ç«¯å£</li>
</ul>
<hr>
<h1 id="é…ç½®ä½¿ç”¨">é…ç½®ä½¿ç”¨</h1>
<blockquote>
<p><a href="https://www.nginx.com/resources/wiki/start/#pre-canned-configurations">Official Doc</a></p>
</blockquote>
<blockquote>
<p><a href="https://zhuanlan.zhihu.com/p/24524057">çŸ¥ä¹ä¸“æ </a><br>
<a href="https://segmentfault.com/a/1190000002797601">nginxåŸºæœ¬é…ç½®</a> | <a href="https://fengqi.me/unix/409.html">ngrok nginx dockeræœ¬åœ°æ­å»ºæœåŠ¡å™¨</a></p>
</blockquote>
<ul>
<li><a href="https://www.shiyanlou.com/courses/95">å®éªŒæ¥¼è¯¾ç¨‹</a></li>
</ul>
<p>nginx é…ç½®æ–‡ä»¶çš„è¯­æ³•æ˜¯è‡ªå·±ç‹¬æœ‰çš„è¯­æ³•, æ¯”è¾ƒåƒ shell, é‡Œé¢æœ‰ç”¨åˆ°æ­£åˆ™, å˜é‡ç­‰æ¦‚å¿µ</p>
<ul>
<li>è¯»å–è‡ªå®šä¹‰ç›®å½•é…ç½®:
<ul>
<li>nginx.conf ä¸­ http å—å†…æ·»åŠ  <code>include /etc/nginx/conf.d/*.conf;</code></li>
</ul>
</li>
<li>é”™è¯¯é¡µé¢é‡å®šå‘ <code>error_page   404  /404.html;</code> ä¹Ÿå¯ä»¥å¡«å®Œæ•´URL</li>
</ul>
<blockquote>
<p><a href="https://blog.dianduidian.com/post/nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%BD%93%E5%90%8E%E7%AB%AF%E4%B8%BAhttps%E6%97%B6%E7%9A%84%E4%B8%80%E4%BA%9B%E7%BB%86%E8%8A%82%E5%92%8C%E5%8E%9F%E7%90%86/">Nginxåå‘ä»£ç†ï¼Œå½“åç«¯ä¸ºHttpsæ—¶çš„ä¸€äº›ç»†èŠ‚å’ŒåŸç†</a></p>
</blockquote>
<p>nginxæä¾›HttpæœåŠ¡ï¼Œä½†æ˜¯åå‘ä»£ç†äº†HTTPSåœ°å€æ—¶ éœ€è¦æ³¨æ„è¯ä¹¦çš„ä¸€è‡´æ€§é—®é¢˜</p>
<hr>
<h2 id="é™æ€èµ„æºwebæœåŠ¡å™¨">é™æ€èµ„æºWebæœåŠ¡å™¨</h2>
<blockquote>
<p><a href="http://blog.yuansc.com/2015/04/29/nginx%E9%85%8D%E7%BD%AE%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8/">å‚è€ƒ nginxé…ç½®é™æ€æ–‡ä»¶æœåŠ¡å™¨ </a></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl">  <span class="na">server {</span>
</span></span><span class="line"><span class="cl">    <span class="na">client_max_body_size 4G;</span>
</span></span><span class="line"><span class="cl">    <span class="na">listen  80; </span>
</span></span><span class="line"><span class="cl">    <span class="c1"># server_name static.me; # å¦‚æœéœ€è¦ä½¿ç”¨åŸŸå åˆ™éœ€è¦åœ¨hostsæ–‡ä»¶é…ç½®</span>
</span></span><span class="line"><span class="cl">    <span class="na">root /home/mini/Sync;</span>
</span></span><span class="line"><span class="cl">    <span class="na">location / {</span>
</span></span><span class="line"><span class="cl">        <span class="na">autoindex on; # æ˜¾ç¤ºç´¢å¼•</span>
</span></span><span class="line"><span class="cl">        <span class="na">autoindex_exact_size on; # æ˜¾ç¤ºå¤§å°</span>
</span></span><span class="line"><span class="cl">	      <span class="na">autoindex_localtime on;  # æ˜¾ç¤ºæ—¶é—´</span>
</span></span><span class="line"><span class="cl">    <span class="na">}</span>
</span></span><span class="line"><span class="cl">  <span class="na">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol>
<li>è‹¥å‡ºç°403é”™è¯¯, å°† /etc/nginx/nginx.conf ä¸­ç¬¬ä¸€è¡Œçš„ <code>user nginx;</code> æ”¹æˆå¯è®¿é—®é™æ€æ–‡ä»¶ç›®å½•çš„ç”¨æˆ·å³å¯</li>
<li><code>é…ç½®ä¸ºæ–‡æœ¬æ–‡ä»¶ç±»å‹</code> å³ text/plain; ç±»å‹ã€‚ä¾‹: æµè§ˆå™¨ç›´æ¥æŸ¥çœ‹ code ç›®å½•ä¸‹æ‰€æœ‰æºä»£ç </li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl">    <span class="na">location /code/ {</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># All files in it</span>
</span></span><span class="line"><span class="cl">        <span class="na">location ~* {</span>
</span></span><span class="line"><span class="cl">            <span class="na">add_header Content-Type text/plain;</span>
</span></span><span class="line"><span class="cl">        <span class="na">}</span>
</span></span><span class="line"><span class="cl">    <span class="na">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœæœ‰ç¼–ç é—®é¢˜å¯é…ç½®æˆ <code>add_header Content-Type 'text/plain;charset=UTF-8';</code>
<code>location ~* /.*\.(py|md|sql)${}</code></p>
<h2 id="åå‘ä»£ç†å¤šä¸ªæœåŠ¡">åå‘ä»£ç†å¤šä¸ªæœåŠ¡</h2>
<p><code>é…ç½®åå‘ä»£ç†</code></p>
<ol>
<li>nginx çš„ 80 ç«¯å£ä¸‹ï¼š<code>/</code> è·¯å¾„çš„è¯·æ±‚è½¬å‘åˆ°9991ç«¯å£ <code>/myth</code> è½¬å‘åˆ°7898ç«¯å£</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl">  <span class="na">upstream one {</span>
</span></span><span class="line"><span class="cl">    <span class="na">server 127.0.0.1:9991;</span>
</span></span><span class="line"><span class="cl">  <span class="na">}</span>
</span></span><span class="line"><span class="cl">  <span class="na">upstream two {</span>
</span></span><span class="line"><span class="cl">    <span class="na">server 127.0.0.1:7898;</span>
</span></span><span class="line"><span class="cl">  <span class="na">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="na">server {</span>
</span></span><span class="line"><span class="cl">    <span class="na">listen 80;</span>
</span></span><span class="line"><span class="cl">    <span class="na">server_name 1.1.1.1;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="na">location / {</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_set_header X-Real-IP $remote_addr;</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_set_header X-Forward-For $proxy_add_x_forwarded_for;</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_set_header Host $http_host;</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_set_header X-Nginx-Proxt true;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="na">proxy_pass http://one;</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_redirect off;</span>
</span></span><span class="line"><span class="cl">    <span class="na">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="na">location /myth{</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_pass http://two;</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_redirect off;</span>
</span></span><span class="line"><span class="cl">    <span class="na">}</span>
</span></span><span class="line"><span class="cl">  <span class="na">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="é™æ€èµ„æºåä»£ç†åç«¯">é™æ€èµ„æº+åä»£ç†åç«¯</h3>
<blockquote>
<p><a href="https://segmentfault.com/a/1190000012859206">Nginxåå‘ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜</a> | <a href="https://www.jianshu.com/p/05415981e5e5">nginxç®€æ˜“ä½¿ç”¨æ•™ç¨‹,ä½¿ç”¨nginxè§£å†³è·¨åŸŸé—®é¢˜</a></p>
</blockquote>
<p><em>é…ç½®ç»Ÿä¸€å‡ºå£</em></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl">    <span class="na">server {</span>
</span></span><span class="line"><span class="cl">        <span class="na">client_max_body_size 4G;</span>
</span></span><span class="line"><span class="cl">        <span class="na">listen  80;  # listen for ipv4; this line is default and implied</span>
</span></span><span class="line"><span class="cl">        <span class="na">server_name static.me;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="na">location / {</span>
</span></span><span class="line"><span class="cl">            <span class="na">root /data/static;</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># proxy_pass http://127.0.0.1:8889/; å¦‚æœé™æ€èµ„æºåœ¨åˆ«çš„ç«¯å£ä¸Šï¼Œè¿™æ ·é…ç½®ä¹Ÿå¯ä»¥</span>
</span></span><span class="line"><span class="cl">        <span class="na">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="na">location /api/ {</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># add_header &#39;Access-Control-Allow-Origin&#39; &#39;*&#39;;</span>
</span></span><span class="line"><span class="cl">            <span class="na">proxy_pass http://127.0.0.1:8889/; # å»é™¤è¯·æ±‚çš„ api è·¯å¾„ï¼Œå¹¶è®¿é—®åç«¯</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># proxy_pass http://127.0.0.1:8889; è¿™ç§æ–¹å¼ä¸ä¼šå»é™¤ /api/</span>
</span></span><span class="line"><span class="cl">        <span class="na">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="na">location /api/a-service {</span>
</span></span><span class="line"><span class="cl">          <span class="na">proxy_pass http://127.0.0.1:8889/a-service; # ç§»é™¤ /api/ è·¯å¾„ï¼Œä¿ç•™a-service ï¼ˆapiè·¯å¾„ä¸‹å¤šä¸ªæœåŠ¡æ—¶ä½¿ç”¨æ­¤ç±»å‹é…ç½®ï¼‰</span>
</span></span><span class="line"><span class="cl">        <span class="na">}</span>
</span></span><span class="line"><span class="cl">    <span class="na">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol>
<li>å°†é™æ€æ–‡ä»¶äº¤ç”±Nginxè¿›è¡Œå¤„ç†ï¼Œ åå°çš„æœåŠ¡ç»Ÿä¸€ç”¨ä¸€ä¸ªå‰ç¼€å’Œå‰å°è¿›è¡ŒåŒºåˆ†ï¼Œ ç„¶åå°†æœåŠ¡ç«¯çš„çœŸå®hostå’Œipæˆ–è€…åŸŸåé…ç½®è¿›æ¥</li>
<li>è¿™æ ·åœ¨äºå‰ç«¯çœ‹æ¥å°±æ˜¯è®¿é—® static.me/api è€Œå·²ï¼Œ å®é™…ä¸Šè®¿é—®çš„æ˜¯ 127.0.0.1:8889/api</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼ŒåŸå…ˆä½¿ç”¨nginxåå‘ä»£ç†tomcatï¼Œå°è¯•é…ç½®åç«¯ä¸ºä¸€ä¸ªæœ¬åœ°dnsè§£æçš„åŸŸåã€‚ç„¶åå‘ç°è¿™æ˜¯æ— æ³•ç”Ÿæ•ˆçš„ï¼Œæ‰€ä»¥åº”è¯¥ä½¿ç”¨çœŸå®IPæˆ–å…¬ç½‘åŸŸå</p>
</blockquote>
<h3 id="å‰åç«¯åˆ†ç¦»æ—¶é¿å…è·¨åŸŸ">å‰åç«¯åˆ†ç¦»æ—¶é¿å…è·¨åŸŸ</h3>
<p>åœ¨éœ€è¦è¢«è·¨åŸŸè®¿é—®çš„æœåŠ¡ç«¯ï¼Œæ·»åŠ å¦‚ä¸‹é…ç½®</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl">    <span class="na">add_header Access-Control-Allow-Origin *;</span>
</span></span><span class="line"><span class="cl">    <span class="na">add_header Access-Control-Allow-Headers X-Requested-With;</span>
</span></span><span class="line"><span class="cl">    <span class="na">add_header Access-Control-Allow-Methods GET,POST,OPTIONS; </span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="é…ç½®https">é…ç½®https</h2>
<blockquote>
<p><a href="http://www.cnblogs.com/tintin1926/archive/2012/07/12/2587311.html">nginxæ­å»ºhttpsæœåŠ¡</a> | <a href="http://letus.club/2016/04/08/nginx-http2-letsencrypt/">nginx http/2</a></p>
</blockquote>
<h3 id="è‡ªç­¾å‘è¯ä¹¦">è‡ªç­¾å‘è¯ä¹¦</h3>
<ul>
<li><a href="/Linux/Base/LinuxNetwork.md#%E8%87%AA%E7%AD%BE%E5%8F%91%E8%AF%81%E4%B9%A6">Linux: è‡ªç­¾å‘è¯ä¹¦</a></li>
</ul>
<p><code>é…ç½®HTTPS</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl">    <span class="na">upstream one {</span>
</span></span><span class="line"><span class="cl">        <span class="na">server 127.0.0.1:8888;</span>
</span></span><span class="line"><span class="cl">    <span class="na">}</span>
</span></span><span class="line"><span class="cl">    <span class="na">server {</span>
</span></span><span class="line"><span class="cl">        <span class="na">listen 443;</span>
</span></span><span class="line"><span class="cl">        <span class="na">server_name web.me;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># ä¸»è¦å°±æ˜¯æ·»åŠ äº†è¿™ä¸€å—</span>
</span></span><span class="line"><span class="cl">        <span class="na">ssl on;</span>
</span></span><span class="line"><span class="cl">        <span class="na">ssl_certificate  /data/https/server.crt;</span>
</span></span><span class="line"><span class="cl">        <span class="na">ssl_certificate_key  /data/https/server.key;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># http è½¬å‘ https</span>
</span></span><span class="line"><span class="cl">        <span class="na">return 302  https://$host$request_uri;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="na">location / {</span>
</span></span><span class="line"><span class="cl">            <span class="na">proxy_set_header X-Real-IP $remote_addr;</span>
</span></span><span class="line"><span class="cl">            <span class="na">proxy_set_header X-Forward-For $proxy_add_x_forwarded_for;</span>
</span></span><span class="line"><span class="cl">            <span class="na">proxy_set_header Host $http_host;</span>
</span></span><span class="line"><span class="cl">            <span class="na">proxy_set_header X-Nginx-Proxt true;</span>
</span></span><span class="line"><span class="cl">            <span class="na">proxy_pass https://one;</span>
</span></span><span class="line"><span class="cl">            <span class="na">proxy_redirect off;</span>
</span></span><span class="line"><span class="cl">        <span class="na">}</span>
</span></span><span class="line"><span class="cl">    <span class="na">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="é€šè¿‡-certbot-é…ç½®-https">é€šè¿‡ certbot é…ç½® HTTPS</h3>
<blockquote>
<p>å…è´¹çš„ç½‘ç«™, å¹¶ä¸”ç°åœ¨æ”¯æŒæ³›åŸŸåäº†<a href="http://www.cnblogs.com/lidong94/p/7156839.html">å‚è€ƒåšå®¢</a> | <a href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-16-04">å‚è€ƒåšå®¢</a><br>
<a href="http://linux.it.net.cn/e/server/nginx/2015/0131/12745.html">Nginxåå‘ä»£ç†https</a></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">  wget https://dl.eff.org/certbot-auto
</span></span><span class="line"><span class="cl">  chmod a+x certbot-auto
</span></span><span class="line"><span class="cl">  ./certbot-auto <span class="c1">#è¿›è¡Œå®‰è£… ä½†æ˜¯è¿‡ç¨‹ä¸­ä¼šæœ‰ä¸€äº›è®¾ç½®ï¼Œ</span>
</span></span><span class="line"><span class="cl">  ./certbot-auto certonly --email xxx@xxx --nginx -d xxx.domain <span class="c1"># ç”Ÿæˆ xxx.domain è¯ä¹¦</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><em>SSL æ¥æ”¶åˆ°ä¸€ä¸ªè¶…å‡ºæœ€å¤§å‡†è®¸é•¿åº¦çš„è®°å½• è¦åœ¨ç«¯å£ååŠ ä¸ŠSSL nginx</em></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl">  <span class="na">upstream one {</span>
</span></span><span class="line"><span class="cl">    <span class="na">server 127.0.0.1:8080;</span>
</span></span><span class="line"><span class="cl">  <span class="na">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="na">server{</span>
</span></span><span class="line"><span class="cl">    <span class="na">listen 443 ssl;</span>
</span></span><span class="line"><span class="cl">    <span class="na">server_name xxx.domain</span>
</span></span><span class="line"><span class="cl">    <span class="na">access_log /data/log/https.log;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># sslé…ç½®</span>
</span></span><span class="line"><span class="cl">    <span class="na">ssl on;</span>
</span></span><span class="line"><span class="cl">    <span class="na">ssl_certificate  /etc/letsencrypt/live/xxx.domain/fullchain.pem;</span>
</span></span><span class="line"><span class="cl">    <span class="na">ssl_certificate_key  /etc/letsencrypt/live/xxx.domain/privkey.pem;</span>
</span></span><span class="line"><span class="cl">    <span class="na">ssl_trusted_certificate /etc/letsencrypt/live/xxx.domain/chain.pem;</span>
</span></span><span class="line"><span class="cl">    <span class="na">ssl_dhparam /etc/nginx/ssl/dhparam.pem;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="na">location / {</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_pass https://one;</span>
</span></span><span class="line"><span class="cl">    <span class="na">}</span>
</span></span><span class="line"><span class="cl">  <span class="na">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="é…ç½®websocketåå‘ä»£ç†">é…ç½®Websocketåå‘ä»£ç†</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl">  <span class="c1"># é…ç½®è¿æ¥çš„é…ç½®ä¿¡æ¯</span>
</span></span><span class="line"><span class="cl">  <span class="na">map $http_upgrade $connection_upgrade{</span>
</span></span><span class="line"><span class="cl">    <span class="na">default upgrade;</span>
</span></span><span class="line"><span class="cl">    <span class="na">&#39;&#39;  close;</span>
</span></span><span class="line"><span class="cl">  <span class="na">}</span>
</span></span><span class="line"><span class="cl">  <span class="na">upstream back_end {</span>
</span></span><span class="line"><span class="cl">    <span class="na">server 127.0.0.1:8888;</span>
</span></span><span class="line"><span class="cl">  <span class="na">}</span>
</span></span><span class="line"><span class="cl">  <span class="na">server {</span>
</span></span><span class="line"><span class="cl">    <span class="na">listen 80;</span>
</span></span><span class="line"><span class="cl">    <span class="na">server_name 127.0.0.1;</span>
</span></span><span class="line"><span class="cl">    <span class="na">location / {</span>
</span></span><span class="line"><span class="cl">      <span class="c1"># è®¾ç½®è½¬å‘çœŸå®ip</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_set_header X-Real-IP $remote_addr;</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_set_header X-Forward-For $proxy_add_x_forwarded_for;</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_set_header Host $host;</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_set_header X-Nginx-Proxt true;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1"># è®¾ç½®æ¥æ”¶åˆ°çš„è¯·æ±‚ç±»å‹</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_set_header Upgrade $http_upgrade;</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_set_header Connection $connection_upgrade;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="na">proxy_pass http://back_end;</span>
</span></span><span class="line"><span class="cl">      <span class="c1"># é»˜è®¤æ˜¯ 1.0 ä¸æ”¯æŒ keepAlive</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_http_version 1.1; </span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_redirect off;</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_read_timeout 300s;</span>
</span></span><span class="line"><span class="cl">    <span class="na">}</span>
</span></span><span class="line"><span class="cl">  <span class="na">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ç»•è¿‡Grafanaï¼Œå…å¯†ç™»å½•ï¼Œéœ€è¦é¢„å…ˆç”Ÿæˆkey</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="na">map $http_upgrade $connection_upgrade{</span>
</span></span><span class="line"><span class="cl">    <span class="na">default upgrade;</span>
</span></span><span class="line"><span class="cl">    <span class="na">&#39;&#39;  close;</span>
</span></span><span class="line"><span class="cl"><span class="na">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1"># http://grafana-user.test/d/spring_boot_21/shang-shu-tai-jian-kong-mian-ban?orgId=1</span>
</span></span><span class="line"><span class="cl"><span class="na">server {</span>
</span></span><span class="line"><span class="cl">    <span class="na">listen 80;</span>
</span></span><span class="line"><span class="cl">    <span class="na">server_name  grafana-user.test;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="na">location / {</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_pass http://192.168.1.1:9091/;</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_redirect off;</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_set_header Host $host;</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_set_header X-Real-IP $remote_addr;</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_set_header Connection &#34;&#34;;</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_set_header Authorization &#34;Bearer xxxxx&#34;;</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># add_header X-Frame-Options SAMEORIGIN;</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_hide_header X-Frame-Options;</span>
</span></span><span class="line"><span class="cl">    <span class="na">}</span>
</span></span><span class="line"><span class="cl">    <span class="na">location /api/live/ws {</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_set_header X-Real-IP $remote_addr;</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_set_header X-Forward-For $proxy_add_x_forwarded_for;</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_set_header Host $host;</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_set_header X-Nginx-Proxt true;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="na">proxy_set_header Authorization &#34;Bearer cccc&#34;;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="na">proxy_set_header Upgrade $http_upgrade;</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_set_header Connection $connection_upgrade;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="na">proxy_http_version 1.1; </span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_redirect off;</span>
</span></span><span class="line"><span class="cl">        <span class="na">proxy_read_timeout 300s;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="na">proxy_pass http://192.168.1.1:9091;</span>
</span></span><span class="line"><span class="cl">    <span class="na">}</span>
</span></span><span class="line"><span class="cl"><span class="na">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="è½¬å‘ä»£ç†">è½¬å‘ä»£ç†</h2>
<blockquote>
<p>ä¾‹å¦‚ aaa.com éœ€è¦VPNç­‰æ–¹å¼æ‰èƒ½è®¿é—®ï¼ŒNginxæ‰€åœ¨çš„ä¸»æœºèƒ½è®¿é—®ï¼Œå°±å¯ä»¥è¿™ä¹ˆé…ç½®ï¼Œç„¶åé…ç½®DNSå°† aaa.com è§£æåˆ°Nginxçš„ä¸»æœºä¸Šï¼Œå°±å¯ä»¥å®ç°å…¶ä»–å®¢æˆ·æœºä¸å®‰è£…VPN ç›´æ¥è®¿é—® aaa.com</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl">  <span class="na">server {</span>
</span></span><span class="line"><span class="cl">    <span class="na">server_name aaa.com;</span>
</span></span><span class="line"><span class="cl">    <span class="na">listen 80;</span>
</span></span><span class="line"><span class="cl">    <span class="na">location / {</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_pass http://aaa.com;</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_set_header Host $host:$server_port;</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_set_header X-Real-IP $remote_addr;</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span>
</span></span><span class="line"><span class="cl">      <span class="na">proxy_set_header X-Forwarded-Proto $scheme;</span>
</span></span><span class="line"><span class="cl">    <span class="na">}</span>
</span></span><span class="line"><span class="cl">  <span class="na">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="é˜²ç›—é“¾">é˜²ç›—é“¾</h2>
<h2 id="gzip">gzip</h2>
<blockquote>
<p><a href="https://www.jianshu.com/p/c5d1fc829855">nginx å¯ç”¨ gzipå‹ç¼©</a></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  gzip  on;
</span></span><span class="line"><span class="cl">  gzip_comp_level 4; # ç¼ºçœå€¼
</span></span><span class="line"><span class="cl">  gzip_buffers 4 16k;
</span></span><span class="line"><span class="cl">  gzip_http_version 1.1; # ç¼ºçœå€¼
</span></span><span class="line"><span class="cl">  gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="è´Ÿè½½å‡è¡¡">è´Ÿè½½å‡è¡¡</h2>
<blockquote>
<p><a href="https://segmentfault.com/a/1190000012479902">Nginx åå‘ä»£ç† è´Ÿè½½å‡è¡¡ è™šæ‹Ÿä¸»æœºé…ç½®</a></p>
</blockquote>
<p>åˆ†ä¸ºå››å±‚å’Œä¸ƒå±‚ï¼š</p>
<ul>
<li>åœ¨å››å±‚åªä¾æ®ipçš„æŠ¥æ–‡è½¬å‘ï¼ˆä¿®æ”¹è¿›å…¥æ—¶ç›®çš„ip<code>ä»nginxæ”¹æˆupstreamçš„IP</code>ï¼Œä¿®æ”¹è¿”å›æ—¶å‘é€ipï¼‰</li>
<li>åœ¨ä¸ƒå±‚ä¾æ®æ•°æ®å†…å®¹åšè½¬å‘ï¼Œä¾‹å¦‚æŒ‰httpè¯·æ±‚åç¼€åšè½¬å‘ *.jpg åˆ°AæœåŠ¡å™¨ *.jspåˆ°BæœåŠ¡å™¨</li>
</ul>
<h3 id="è´Ÿè½½å‡è¡¡ç­–ç•¥">è´Ÿè½½å‡è¡¡ç­–ç•¥</h3>
<blockquote>
<p><a href="https://docs.nginx.com/nginx/admin-guide/load-balancer/http-load-balancer/">Doc: Http Load Balancer</a></p>
</blockquote>
<ol>
<li>Round Robinï¼š
<ul>
<li>é»˜è®¤æ–¹å¼ï¼Œå¯¹æ‰€æœ‰backendæ— å·®åˆ«æŒ‰åºè½®è¯¢, å¦‚æœbackendå®•æœºä¼šè‡ªåŠ¨ç§»é™¤æ‰</li>
</ul>
</li>
<li>Weightï¼š
<ul>
<li>å¯¹æ‰€æœ‰backendæŒ‰æƒé‡è¿›è¡Œè½®è¯¢ï¼Œæƒé‡è¶Šé«˜åˆ†å‘åˆ°çš„è¯·æ±‚å°±è¶Šå¤šï¼Œé»˜è®¤å€¼ä¸º1ã€‚é€‚åˆç¡¬ä»¶å·®åˆ«æ¯”è¾ƒå¤§çš„å¤šä¸ªèŠ‚ç‚¹</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl">    <span class="c1">#åŠ¨æ€æœåŠ¡å™¨ç»„</span>
</span></span><span class="line"><span class="cl">    <span class="na">upstream dynamic_server {</span>
</span></span><span class="line"><span class="cl">        <span class="na">server localhost:8080 weight</span><span class="o">=</span><span class="s">2;
</span></span></span><span class="line"><span class="cl"><span class="s">        server localhost:8081;
</span></span></span><span class="line"><span class="cl"><span class="s">        server localhost:8082 backup;
</span></span></span><span class="line"><span class="cl"><span class="s">        server localhost:8083 max_fails=3 fail_timeout=20s;
</span></span></span><span class="line"><span class="cl"><span class="s">    }</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>Least Connections(least_conn):
<ul>
<li>ä¾æ®æ¯ä¸ªbackendå½“å‰æ´»è·ƒè¿æ¥æ•°ï¼Œå°†è¯·æ±‚åˆ†å‘åˆ°è¿æ¥æ•°æœ€å°‘çš„backendä¸Šï¼Œæ­¤æ—¶ä¼šè€ƒè™‘backendçš„weightæƒé‡æ¯”ä¾‹</li>
<li>upstreamé…ç½®å—ä¸­åœ¨é¦–è¡Œæ·»åŠ  <code>least_conn;</code>å³å¯</li>
</ul>
</li>
<li>IP Hash(ip_hash): å¯¹è¯·æ±‚æ¥æºIPåœ°å€è®¡ç®—hashå€¼ï¼Œé€šè¿‡æŸç§æ˜ å°„ï¼ˆä¾‹å¦‚å–ä½™ï¼Œè¯¦ç»†å¯æŸ¥çœ‹ip_hashç›¸å…³æºç ï¼‰åˆ†å‘è‡³å¯¹åº”backend
<ul>
<li>upstreamé…ç½®å—ä¸­åœ¨é¦–è¡Œæ·»åŠ  <code>ip_hash;</code>å³å¯</li>
</ul>
</li>
<li>Generic Hash(hash): ç”¨æˆ·è‡ªå®šä¹‰èµ„æºï¼ˆä¾‹å¦‚URLï¼‰è®¡ç®—hashå®Œæˆåˆ†å‘ï¼Œå¯é€‰consistentå…³é”®å­—æ”¯æŒ<code>ä¸€è‡´æ€§hash</code>ç‰¹æ€§</li>
</ol>
<hr>
<blockquote>
<p>Q &amp; A</p>
</blockquote>
<ol>
<li>å¦‚æœè´Ÿè½½å‡è¡¡äº†A Bä¸¤ä¸ªèŠ‚ç‚¹ï¼Œè¯·æ±‚è¿›å…¥äº†AèŠ‚ç‚¹åï¼Œç«‹é©¬ç§»é™¤äº†å¯¹AèŠ‚ç‚¹çš„è´Ÿè½½å‡è¡¡ï¼Œè¯¥è¯·æ±‚æ˜¯å¦èƒ½æ­£å¸¸æ‰§è¡Œ
<ul>
<li>èƒ½æ­£å¸¸æ‰§è¡Œï¼Œå‡å¦‚æ­¤æ—¶è¯·æ±‚Aå¤±è´¥ï¼Œä¾‹å¦‚AèŠ‚ç‚¹å®•æœº, è¯·æ±‚è¿˜ä¼šè½¬ç§»è‡³BèŠ‚ç‚¹ï¼ˆfailoverï¼‰</li>
</ul>
</li>
<li>å¦‚æœè´Ÿè½½å‡è¡¡äº†A Bä¸¤ä¸ªèŠ‚ç‚¹, AèŠ‚ç‚¹å®•æœºäº†ï¼Œåç»­è¯·æ±‚æ˜¯å¦è¿˜ä¼šåˆ†å‘åˆ°AèŠ‚ç‚¹
<ul>
<li>ä¸ä¼šï¼ŒåŸç†ï¼š TODO</li>
</ul>
</li>
</ol>
<hr>
<h1 id="nginx-plus">Nginx Plus</h1>
<blockquote>
<p>å¯¹æ ‡ F5 BIG-IP</p>
</blockquote>
<blockquote>
<p><a href="https://www.nginx.com/blog/5-reasons-switch-f5-big-ip-to-nginx-plus/">5-reasons-switch-f5-big-ip-to-nginx-plus</a></p>
</blockquote>
<hr>
<h1 id="keepalived">Keepalived</h1>
<p>Keepalivedè½¯ä»¶èµ·åˆæ˜¯ä¸“ä¸ºLVSè´Ÿè½½å‡è¡¡è½¯ä»¶è®¾è®¡çš„ï¼Œç”¨æ¥ç®¡ç†å¹¶ç›‘æ§LVSé›†ç¾¤ç³»ç»Ÿä¸­å„ä¸ªæœåŠ¡èŠ‚ç‚¹çš„çŠ¶æ€ï¼Œåæ¥åˆåŠ å…¥äº†å¯ä»¥å®ç°é«˜å¯ç”¨çš„VRRPåŠŸèƒ½ã€‚å› æ­¤ï¼ŒKeepalivedé™¤äº†èƒ½å¤Ÿç®¡ç†LVSè½¯ä»¶å¤–ï¼Œè¿˜å¯ä»¥ä½œä¸ºå…¶ä»–æœåŠ¡ï¼ˆä¾‹å¦‚ï¼šNginxã€Haproxyã€MySQLç­‰ï¼‰çš„é«˜å¯ç”¨è§£å†³æ–¹æ¡ˆè½¯ä»¶ã€‚</p>
<blockquote>
<p><a href="https://www.cnblogs.com/clsn/p/8052649.html">å‚è€ƒ: keepalivedå®ç°æœåŠ¡é«˜å¯ç”¨</a></p>
</blockquote>
<hr>
<h1 id="åŒç±»åº”ç”¨">åŒç±»åº”ç”¨</h1>
<h2 id="caddy">Caddy</h2>
<blockquote>
<p><a href="https://caddyserver.com/">official website</a></p>
</blockquote>
<p>å…·æœ‰ä¸°å¯Œçš„æ’ä»¶æ”¯æŒ, é…ç½®ç®€æ´, è‡ªåŠ¨é…ç½® HTTPSè¯ä¹¦ï¼Œç›¸è¾ƒäºnginxèµ„æºæ¶ˆè€—æ›´å¤š ååé‡ä½ä¸€äº›</p>
<blockquote>
<p><a href="https://my.oschina.net/diamondfsd/blog/897301">å‚è€ƒ: ä½¿ç”¨ Caddy æ›¿ä»£ Nginxï¼Œå…¨ç«™å‡çº§ httpsï¼Œé…ç½®æ›´åŠ ç®€å•</a></p>
</blockquote>
<h2 id="squid">Squid</h2>
<blockquote>
<p><a href="http://www.squid-cache.org">Official</a></p>
</blockquote>
<h2 id="varnish">Varnish</h2>
<h2 id="haproxy">HAProxy</h2>
<blockquote>
<p><a href="https://www.haproxy.org/">Official</a> ä¼ä¸šçº§å·¥å…·</p>
</blockquote>
<h2 id="nuster">nuster</h2>
<blockquote>
<p><a href="https://github.com/jiangwenyuan/nuster">Github</a><code>åŸºäº HAProxy</code></p>
</blockquote>
<hr>
<h1 id="tips">Tips</h1>
<ul>
<li>æ–‡ä»¶ä¸Šä¼ æŠ¥é”™ 413
<ul>
<li>http{} ä¸­æ·»åŠ  <code>client_max_body_size 80M;</code></li>
</ul>
</li>
<li>request_time æ¯”å®é™…æ—¶é—´é•¿ <a href="http://shibing.github.io/2016/11/18/nginx%E7%9A%84%E5%BB%B6%E8%BF%9F%E5%85%B3%E9%97%AD-lingering-close/">Nginxçš„å»¶è¿Ÿå…³é—­</a><code>lingering_timeout</code></li>
</ul>
<hr>
<p>access æ—¥å¿—ä¸­ upstream 408çŠ¶æ€ç  æœ¬èº«è¿”å›çš„502 å®é™…ä¸Šupstreamæ²¡æ”¶åˆ°è¯·æ±‚</p>
<blockquote>
<p><a href="https://stackoverflow.com/questions/70856800/random-http-408-on-post-requests-and-no-body-is-transferred">Random HTTP 408 on POST requests and no body is transferred</a></p>
</blockquote>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">Kuangcp</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2018-12-15
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/nginx/">Nginx</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/linux/tool/vim/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Vim</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/linux/tool/ime/">
            <span class="next-text nav-default">è¾“å…¥æ³•</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://github.com/Kuangcp" class="iconfont icon-github" title="github"></a>
  <a href="https://www.kuangcp.top/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://gitee.com/gin9/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2016 - 
    2024<span class="heart"><i class="iconfont icon-heart"></i></span>
    <span>Kuangcp</span>
    
    <br/><span><a href='http://beian.miit.gov.cn/'; target=_blank>èµ£ICPå¤‡17014189å·</a></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.64437849d125a2d603b3e71d6de5225d641a32d17168a58106e0b61852079683.js"></script>








</body>
</html>
