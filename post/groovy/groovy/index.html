<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Groovy - Mythos</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Mythos" /><meta name="description" content="目录 start Groovy 书籍 语言特性 安装配置 在IDEA中 Maven引入Groovy Docker Groovy基础 Groovy特性 默认导入 隐式return 默认生成sett" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.76.5 with theme even" />


<link rel="canonical" href="https://blogs.kuangcp.top/post/groovy/groovy/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.b5a744db6de49a86cadafb3b70f555ab443f83c307a483402259e94726b045ff.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Groovy" />
<meta property="og:description" content="目录 start Groovy 书籍 语言特性 安装配置 在IDEA中 Maven引入Groovy Docker Groovy基础 Groovy特性 默认导入 隐式return 默认生成sett" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blogs.kuangcp.top/post/groovy/groovy/" />
<meta property="article:published_time" content="2018-12-15T12:13:52+00:00" />
<meta property="article:modified_time" content="2018-12-15T12:13:52+00:00" />
<meta itemprop="name" content="Groovy">
<meta itemprop="description" content="目录 start Groovy 书籍 语言特性 安装配置 在IDEA中 Maven引入Groovy Docker Groovy基础 Groovy特性 默认导入 隐式return 默认生成sett">
<meta itemprop="datePublished" content="2018-12-15T12:13:52+00:00" />
<meta itemprop="dateModified" content="2018-12-15T12:13:52+00:00" />
<meta itemprop="wordCount" content="4365">



<meta itemprop="keywords" content="基础," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Groovy"/>
<meta name="twitter:description" content="目录 start Groovy 书籍 语言特性 安装配置 在IDEA中 Maven引入Groovy Docker Groovy基础 Groovy特性 默认导入 隐式return 默认生成sett"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Mythos</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Mythos</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Groovy</h1>

      <div class="post-meta">
        <span class="post-time"> 2018-12-15 </span>
        <div class="post-category">
            <a href="/categories/groovy/"> Groovy </a>
            </div>
          <span class="more-meta"> 4365 words </span>
          <span class="more-meta"> 9 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#书籍">书籍</a></li>
    <li><a href="#语言特性">语言特性</a></li>
    <li><a href="#安装配置">安装配置</a>
      <ul>
        <li><a href="#在idea中">在IDEA中</a></li>
        <li><a href="#maven引入groovy">Maven引入Groovy</a></li>
        <li><a href="#docker">Docker</a></li>
      </ul>
    </li>
    <li><a href="#groovy基础">Groovy基础</a>
      <ul>
        <li><a href="#groovy特性">Groovy特性</a></li>
        <li><a href="#函数">函数</a></li>
        <li><a href="#闭包">闭包</a></li>
        <li><a href="#测试">测试</a></li>
        <li><a href="#调用系统命令行">调用系统命令行</a></li>
      </ul>
    </li>
    <li><a href="#强大的注解">强大的注解</a></li>
    <li><a href="#与java的差异">与Java的差异</a>
      <ul>
        <li><a href="#java不具备的groovy特性">Java不具备的Groovy特性</a></li>
      </ul>
    </li>
    <li><a href="#groovy和java的交互">Groovy和Java的交互</a>
      <ul>
        <li><a href="#maven中引入groovy">Maven中引入Groovy</a></li>
        <li><a href="#groovy调用java">Groovy调用Java</a></li>
        <li><a href="#java调用groovy">Java调用Groovy</a></li>
        <li><a href="#groovy和spring">Groovy和Spring</a></li>
      </ul>
    </li>
    <li><a href="#坑">坑</a>
      <ul>
        <li><a href="#默认return">默认return</a></li>
      </ul>
    </li>
    <li><a href="#grails">Grails</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p><strong>目录 start</strong></p>
<ol>
<li><a href="#groovy">Groovy</a>
<ol>
<li><a href="#%E4%B9%A6%E7%B1%8D">书籍</a></li>
<li><a href="#%E8%AF%AD%E8%A8%80%E7%89%B9%E6%80%A7">语言特性</a></li>
<li><a href="#%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE">安装配置</a>
<ol>
<li><a href="#%E5%9C%A8idea%E4%B8%AD">在IDEA中</a></li>
<li><a href="#maven%E5%BC%95%E5%85%A5groovy">Maven引入Groovy</a></li>
<li><a href="#docker">Docker</a></li>
</ol>
</li>
<li><a href="#groovy%E5%9F%BA%E7%A1%80">Groovy基础</a>
<ol>
<li><a href="#groovy%E7%89%B9%E6%80%A7">Groovy特性</a>
<ol>
<li><a href="#%E9%BB%98%E8%AE%A4%E5%AF%BC%E5%85%A5">默认导入</a></li>
<li><a href="#%E9%9A%90%E5%BC%8Freturn">隐式return</a></li>
<li><a href="#%E9%BB%98%E8%AE%A4%E7%94%9F%E6%88%90setter-getter">默认生成setter getter</a></li>
<li><a href="#%E6%95%B0%E5%AD%97%E5%A4%84%E7%90%86">数字处理</a></li>
<li><a href="#%E5%8F%98%E9%87%8F%E5%8A%A8%E6%80%81%E5%92%8C%E9%9D%99%E6%80%81%E7%B1%BB%E5%9E%8B%E4%BD%9C%E7%94%A8%E5%9F%9F">变量，动态和静态类型，作用域</a></li>
<li><a href="#%E5%88%97%E8%A1%A8%E5%92%8C%E6%98%A0%E5%B0%84%E8%AF%AD%E6%B3%95">列表和映射语法</a></li>
<li><a href="#%E5%8A%A8%E6%80%81%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0">动态调用函数</a></li>
</ol>
</li>
<li><a href="#%E5%87%BD%E6%95%B0">函数</a></li>
<li><a href="#%E9%97%AD%E5%8C%85">闭包</a></li>
<li><a href="#%E6%B5%8B%E8%AF%95">测试</a></li>
<li><a href="#%E8%B0%83%E7%94%A8%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4%E8%A1%8C">调用系统命令行</a></li>
</ol>
</li>
<li><a href="#%E5%BC%BA%E5%A4%A7%E7%9A%84%E6%B3%A8%E8%A7%A3">强大的注解</a></li>
<li><a href="#%E4%B8%8Ejava%E7%9A%84%E5%B7%AE%E5%BC%82">与Java的差异</a>
<ol>
<li><a href="#java%E4%B8%8D%E5%85%B7%E5%A4%87%E7%9A%84groovy%E7%89%B9%E6%80%A7">Java不具备的Groovy特性</a></li>
</ol>
</li>
<li><a href="#groovy%E5%92%8Cjava%E7%9A%84%E4%BA%A4%E4%BA%92">Groovy和Java的交互</a>
<ol>
<li><a href="#maven%E4%B8%AD%E5%BC%95%E5%85%A5groovy">Maven中引入Groovy</a></li>
<li><a href="#groovy%E8%B0%83%E7%94%A8java">Groovy调用Java</a></li>
<li><a href="#java%E8%B0%83%E7%94%A8groovy">Java调用Groovy</a></li>
<li><a href="#groovy%E5%92%8Cspring">Groovy和Spring</a></li>
</ol>
</li>
<li><a href="#%E5%9D%91">坑</a>
<ol>
<li><a href="#%E9%BB%98%E8%AE%A4return">默认return</a></li>
</ol>
</li>
<li><a href="#grails">Grails</a></li>
</ol>
</li>
</ol>
<p><strong>目录 end</strong>|<em>2020-12-08 19:23</em>|</p>
<hr>
<h1 id="groovy">Groovy</h1>
<blockquote>
<p><a href="http://www.groovy-lang.org/">Groovy 官网</a> |</p>
</blockquote>
<blockquote>
<p><a href="https://www.ibm.com/developerworks/cn/java/j-pg/">实战Groovy系列</a><code>有体系的知识</code>
<a href="https://www.ibm.com/developerworks/cn/education/java/j-groovy/j-groovy.html">精通Groovy</a>
<a href="https://www.ibm.com/developerworks/cn/java/j-pg02179.html">Groovy：Java 程序员的 DSL</a>
<a href="https://www.w3cschool.cn/groovy/">w3cschool Groovy教程</a>
<a href="http://ifeve.com/category/groovy/">并发编程网 Groovy分类文章</a>
<a href="http://www.infoq.com/cn/groovy">infoQ 上Groovy相关</a></p>
</blockquote>
<h2 id="书籍">书籍</h2>
<blockquote>
<p><a href="http://ishare.iask.sina.com.cn/f/12475871.html">Groovy in Action</a> <code>在线阅读英文原版</code></p>
</blockquote>
<h2 id="语言特性">语言特性</h2>
<ul>
<li>Groovy 具有的Java所没有的语言特性 ：
<ul>
<li>函数字面值（闭包）</li>
<li>对集合的一等支持</li>
<li>对正则表达式的一等支持</li>
<li>对XML处理的一等支持 （一等表示内置，不需要调用类库）</li>
</ul>
</li>
<li>Groovy处理XML和循环遍历集合的方式要比Java简洁</li>
<li>Groovy性能：如果你需要注重性能，Groovy不是一个好的选择，Groovy的对象都派生于GroovyObject，Groovy的方法都不是直接调用的而是反射执行的。虽然有invokedynamic关键字进行优化
<ul>
<li>一些重活还是调用Java类库好些，毕竟是互通互用的，调用groovyserv类库能提高性能</li>
</ul>
</li>
</ul>
<h2 id="安装配置">安装配置</h2>
<ul>
<li><a href="./Skills/AppManual.md#%E4%BD%BF%E7%94%A8sdkman">安装sdkman</a>
<ul>
<li>然后 <code>sdk install groovy</code></li>
<li>新建文件 <code>println &quot;Hello World!&quot;</code> 然后 <code>groovy 文件</code>
<ul>
<li>或者<code>groovy -e &quot;println 'Hello World!'&quot;</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="在idea中">在IDEA中</h3>
<blockquote>
<p>因为构建工具Gradle中就已经包含了Groovy的库,所以最好就是只配置好一个Gradle, 然后配置Groovy时选择Gradle的目录即可</p>
</blockquote>
<h3 id="maven引入groovy">Maven引入Groovy</h3>
<ul>
<li><a href="http://www.cnblogs.com/xiziyin/archive/2010/03/29/1699860.html">参考博客</a></li>
</ul>
<h3 id="docker">Docker</h3>
<blockquote>
<p><a href="https://docs.docker.com/samples/library/groovy/">Docker官方文档</a></p>
</blockquote>
<hr>
<h2 id="groovy基础">Groovy基础</h2>
<blockquote>
<p>作为一个脚本语言，和Python Ruby Smalltalk语法相似</p>
</blockquote>
<ul>
<li>groovyc groovy 类似于 javac java</li>
</ul>
<h3 id="groovy特性">Groovy特性</h3>
<h4 id="默认导入">默认导入</h4>
<p><code>这一些导入是默认隐含在Groovy代码中</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-groovy" data-lang="groovy">    <span class="kn">import</span> <span class="nn">groovy.lang.*</span>
    <span class="kn">import</span> <span class="nn">groovy.util.*</span>
    <span class="kn">import</span> <span class="nn">java.lang.*</span>
    <span class="kn">import</span> <span class="nn">java.io.*</span>
    <span class="kn">import</span> <span class="nn">java.math.BigDecimal</span>
    <span class="kn">import</span> <span class="nn">java.math.BigInteger</span>
    <span class="kn">import</span> <span class="nn">java.net.*</span>
    <span class="kn">import</span> <span class="nn">java.util.*</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>添加额外的JAR可以使用<code>@Grab</code>注解或者和Java一样加入到ClassPath中去</li>
</ul>
<h4 id="隐式return">隐式return</h4>
<ul>
<li>如果方法是具有返回值的, Groovy会在<code>代码块</code>的行末缺省return null,
<ul>
<li>如果末行有一个表达式, 并有返回值, 就会return该值, 略坑</li>
</ul>
</li>
</ul>
<h4 id="默认生成setter-getter">默认生成setter getter</h4>
<blockquote>
<p>类当中的属性, 只要不是使用private修饰, 就能自动生成getter setter, 并且直接<code>.引用</code>属性, 相当于调用了对应的get set</p>
</blockquote>
<h4 id="数字处理">数字处理</h4>
<ul>
<li>Groovy默认浮点数使用BigDecimal，Java中BigDecimal构造器入参是字符串，Groovy是数值，底层转换了一下，看起来更自然</li>
<li>因为是脚本语言，可以在控制台直接运行。Groovy对BEDMAS是支持的 （括号，次方，除，乘，加，减）</li>
</ul>
<h4 id="变量动态和静态类型作用域">变量，动态和静态类型，作用域</h4>
<p><code>变量</code></p>
<ul>
<li>如果要让Groovy和Java互操作，Groovy也能使用静态类型 <code>def static </code>，因为他简化了类型重载和调度机制</li>
<li>注意 普通类状态：在类中不能出现没有类型的变量 至少要有def这个无类型，其他的和Java一致 <code>def private static name = &quot;90&quot;</code></li>
</ul>
<p><code>Groovy里的动态类型和静态类型</code></p>
<ul>
<li>如果变量不在定义时声明类型，那么就是一个动态类型，反之则是静态类型，静态类型就和Java的语法是一致的了，类型不可变</li>
</ul>
<p><code>作用域（通常这是指脚本状态时的普通类就是和Java一致）</code></p>
<ul>
<li>绑定域：是脚本的全局作用域。就是在脚本顶层没有声明类型的变量</li>
<li>本地域：变量的作用域局限于声明他们的代码块。就是在顶层声明了类型或者在代码块里
<ul>
<li><a href="https://github.com/kuangcp/JavaBase/blob/master/src/main/groovy/com/learn/base/VariableScope.groovy">变量作用域学习代码</a></li>
</ul>
</li>
</ul>
<h4 id="列表和映射语法">列表和映射语法</h4>
<ul>
<li>Groovy将列表和映射结构当做语言中的一等类型，列表和映射在底层是<code>ArrayList</code> 和 <code>LinkedHashMap</code>实现的
<ul>
<li>列表：<code>lists = ['2', 2, new Date()]</code> 其实这个和Python的语法差不多，同样的支持负索引</li>
<li>映射：<code>maps = [Java:&quot;2&quot;, A:2]</code> 声明Maps</li>
<li><a href="https://github.com/kuangcp/JavaBase/blob/master/src/main/groovy/com/learn/base/LearnListAndMap.groovy">列表和映射的学习代码</a></li>
</ul>
</li>
</ul>
<h4 id="动态调用函数">动态调用函数</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-groovy" data-lang="groovy">    <span class="c1">// 当前类, 可以这么用
</span><span class="c1"></span>    <span class="kt">def</span> <span class="nf">test</span><span class="o">(</span><span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s2">&#34;Hi &#34;</span><span class="o">+</span><span class="n">name</span>
    <span class="o">}</span>
    <span class="n">String</span> <span class="n">a</span> <span class="o">=</span> <span class="s2">&#34;test&#34;</span>
    <span class="n">print</span><span class="o">(</span><span class="s2">&#34;${a}&#34;</span><span class="o">(</span><span class="s2">&#34;myth&#34;</span><span class="o">))</span>

</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">    <span class="kd">class</span> <span class="nc">Condition</span><span class="o">{</span>
        <span class="kd">static</span> <span class="nf">isLevelMore</span><span class="o">(</span><span class="kt">int</span> <span class="n">level</span><span class="o">){</span>
            <span class="k">return</span> <span class="n">level</span> <span class="o">&gt;</span> <span class="n">30</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="kd">class</span> <span class="nc">Use</span> <span class="o">{</span>
        <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span><span class="n">a</span><span class="o">){</span>
            <span class="c1">// 跨类, 需要使用反射
</span><span class="c1"></span>            <span class="c1">// 1
</span><span class="c1"></span>            <span class="n">MetaMethod</span> <span class="n">method</span> <span class="o">=</span> <span class="n">Condition</span><span class="o">.</span><span class="na">metaClass</span><span class="o">.</span><span class="na">getMetaMethod</span><span class="o">(</span><span class="s">&#34;isLevelMore&#34;</span><span class="o">,</span> <span class="n">20</span><span class="o">)</span>
            <span class="n">println</span> <span class="n">method</span>
            <span class="n">println</span> <span class="n">method</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">Condition</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">20</span><span class="o">)</span>

            <span class="c1">// 2
</span><span class="c1"></span>            <span class="n">Method</span> <span class="n">method1</span> <span class="o">=</span> <span class="n">Condition</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&#34;isLevelMore&#34;</span><span class="o">,</span> <span class="kt">int</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
            <span class="n">println</span> <span class="n">method1</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">Condition</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">40</span><span class="o">)</span>
            
            <span class="c1">// 3
</span><span class="c1"></span>            <span class="n">Condition</span><span class="o">.</span><span class="na">getDeclaredMethods</span><span class="o">().</span><span class="na">toList</span><span class="o">().</span><span class="na">toSet</span><span class="o">().</span><span class="na">each</span> <span class="o">{</span><span class="k">if</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">toString</span><span class="o">().</span><span class="na">contains</span><span class="o">(</span><span class="s">&#34;isLevelMore&#34;</span><span class="o">)){</span>
                <span class="n">println</span> <span class="n">it</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">Condition</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">40</span><span class="o">)</span>
            <span class="o">}}</span>
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="函数">函数</h3>
<blockquote>
<p><a href="https://www.tuicool.com/articles/iEBJnqF">参考: Groovy进阶之函数、闭包和类</a></p>
</blockquote>
<h3 id="闭包">闭包</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-groovy" data-lang="groovy"><span class="c1">// 简单示例
</span><span class="c1"></span>    <span class="kt">def</span> <span class="n">plus</span> <span class="o">=</span> <span class="o">{</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="o">-&gt;</span>
        <span class="n">println</span> <span class="s2">&#34;$x plus $y is ${x + y}&#34;</span>
    <span class="o">}</span>
    <span class="n">plus</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">)</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="测试">测试</h3>
<p><a href="https://www.ibm.com/developerworks/cn/java/j-pg11094/">参考: 用 Groovy 更迅速地对 Java 代码进行单元测试</a></p>
<hr>
<h3 id="调用系统命令行">调用系统命令行</h3>
<blockquote>
<p><a href="http://www.guanggua.com/question/183352-groovy-execute-cp-shell-command.html">Groovy 执行&quot;cp *&ldquo;shell 命令 </a></p>
</blockquote>
<ol>
<li>字符串.execute()</li>
<li>字符串数组.execute() 这种更好些，尤其是多个参数的时候
<ul>
<li>写法和Dockerfile一致 <code> [&quot;sh&quot;, &quot;-c&quot;, &quot;cp src/*.txt dst/&quot;].execute()</code></li>
</ul>
</li>
</ol>
<hr>
<h2 id="强大的注解">强大的注解</h2>
<blockquote>
<p>和Java不同的是, Groovy提供具有功能性的注解, Java大多是接口规范性注解</p>
</blockquote>
<p>@ToString 自动实现toString方法, 但是字符串有点冗余</p>
<blockquote>
<p><a href="http://www.cnblogs.com/varlxj/p/5181788.html">参考: Groovy中那些神奇注解之ToString</a></p>
</blockquote>
<p><em>日志相关</em> 只需要引入对应的依赖, 就和lombok一样的使用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">    <span class="nd">@Log4j</span>
    <span class="nd">@Log4j2</span>
    <span class="nd">@Slf4j</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="与java的差异">与Java的差异</h2>
<ul>
<li>简化输出语句：<code>println()</code> <code>print()</code> <code>printf()</code></li>
<li>Groovy的省略语法:
<ul>
<li><code>语句结束处的分号</code>： 结束的分号是可选的，除非一行多条语句</li>
<li><code>返回语句 return</code>： 方法中返回对象可以不使用return，会默认返回最后一个表达式的计算结果</li>
<li><code>方法参数两边的括号</code>： 如果方法里的方法调用至少有一个参数，且没有二义性，则可以省略括号</li>
<li><code>public访问限定符</code>： 默认是public修饰符, 只有private public protected</li>
<li>这类设计是为了让源码更为简洁，快速原型设计时体现出优势</li>
</ul>
</li>
</ul>
<p><code>脚本文件和类文件的差异</code></p>
<ul>
<li>一个文件定义了文件同名class 类（默认加上public） 就不能当脚本运行
<ul>
<li>因为作为一个脚本文件运行的时候，是创建一个与文件同名的类 并且 继承了 <code>groovy.lang.Script</code> 将你写的语句封装起来</li>
<li>当你显式的定义了同名类 也会隐性继承于Groovy超类 <code>groovy.lang.GroovyObject</code> 类似与Java的Object，就会当一个正常的类文件，不能写脚本了</li>
</ul>
</li>
<li>脚本文件中方法不能命名为 run，对于类是没有限制，和Java一样使用</li>
</ul>
<p><code>异常处理</code></p>
<ul>
<li>Groovy不区分已检查异常和未检查异常。Groovy会忽略方法签名中的所有throws</li>
</ul>
<p><code>Groovy中的相等</code></p>
<ul>
<li>Groovy把 == 当做equals方法，检查真实对象是否相等需要使用Groovy的内置函数 is。但是仍然可以使用 == 来判断 null
<ul>
<li>两种方式对于基本类型是一样的， == 用于对象时就是比较内存了，equals是比较值</li>
</ul>
</li>
</ul>
<p><code>内部类</code></p>
<ul>
<li>Groovy支持内部类，但大多数情况下我们应该使用函数字面值（下面有更为详细的学习）替代它。</li>
</ul>
<blockquote>
<p><a href="https://github.com/kuangcp/JavaBase/blob/master/src/main/groovy/com/learn/base/DiverseFromJava.groovy">示例代码</a></p>
</blockquote>
<h3 id="java不具备的groovy特性">Java不具备的Groovy特性</h3>
<ul>
<li>GroovyBean，更简单的bean</li>
<li>用操作符<code>?.</code>实现null对象的安全访问</li>
<li>猫王操作符(Elvis operator)，更短的if/else结构</li>
<li>Groovy字符串，更强的字符串抽象</li>
<li>函数字面值（闭包），函数当值传递</li>
<li>对正则表达式的本地支持</li>
<li>更简单的XML处理</li>
</ul>
<p><code>GroovyBean</code></p>
<ul>
<li>虽然很像JavaBean但是省略了显式声明的getset方法，提供了自动构造方法（采用映射来作为入参，很方便），允许使用<code>.</code>引用私有成员变量。修改默认行为显式重定义即可</li>
<li>封装性得以保留，语法更精简, <code>new Person().name=&quot;myth&quot;</code>，其实就是隐式调用了set方法</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-groovy" data-lang="groovy"><span class="kd">class</span> <span class="nc">Person</span><span class="o">{</span>
    <span class="n">String</span> <span class="n">name</span>
    <span class="kt">int</span> <span class="n">age</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><code>安全解引用 ?.</code></p>
<ul>
<li>如果对象是null，就什么都不做，理解为当做该次调用不存在。</li>
<li>函数也是支持这种安全解引用，所以Groovy的默认集合方法，例如max() 能自动处理好null引用</li>
</ul>
<p><code>猫王操作符</code></p>
<ul>
<li>可以把带有默认值的 if/else 结构写的极其短小，因为这个符号看起来很像猫王鼎盛时期梳的大背头。用猫王操作符不用检查null，也不用重复变量。</li>
</ul>
<p><code>增强型字符串</code></p>
<ul>
<li>Groovy有一个GString类，他比String要灵活</li>
<li>特别注意，这个GString和String没有任何继承关系，不能将GString作为映射中的键，或者用来比较相等，这些使用的结果都是不可预料的</li>
<li>和Python一样的有个 三引号多行字符串</li>
</ul>
<p><code>函数字面值</code></p>
<ul>
<li>函数当成一等类型可以赋值等操作，要活用就没这么简单了</li>
</ul>
<p><code>内置集合操作</code></p>
<ul>
<li>集合内置函数
<ul>
<li>each : 遍历集合，对其中的每一项应用函数字面值</li>
<li>collect : 收集在集合中每一项应用函数字面值的返回结果 相当于其他语言 map/reduce的map函数</li>
<li>inject : 用函数字面值处理集合并构建返回值 相当于其他语言 map/reduce的reduce函数</li>
<li>findAll : 找到集合中所有与函数字面值匹配的元素</li>
<li>max : 返回集合中的最大值</li>
<li>min : 返回集合中的最小值</li>
</ul>
</li>
</ul>
<p><code>对正则表达式的内置支持</code></p>
<ul>
<li><code>~</code>   创建一个模式 （创建一个编译的Java Pattern）</li>
<li><code>=~</code>  创建一个匹配器 （创建一个Java Matcher对象）</li>
<li><code>==~</code> 计算字符串  （相当于在Pattern上调用Java match()方法）</li>
</ul>
<p><code>对XML的处理</code></p>
<blockquote>
<p>XML是一个卓越的详细的数据交换语言，这不是一个图灵完备(必须能做条件判断，修改内存数据)的语言，所以只能用来交换数据</p>
</blockquote>
<ul>
<li>Groovy有构建器的概念，用其原生语法可以处理任何树形结构的数据 HTML XML JSON等</li>
<li>解析XML：
<ul>
<li>XMLParser   支持XML文档的GPath表达式 GPath是一种表达式语言</li>
<li>XMLSlurper  跟XMLParser类似，但是以懒加载的方式工作</li>
<li>DOMCategory 用一些语法支持DOM的底层解析</li>
</ul>
</li>
</ul>
<blockquote>
<p><a href="https://github.com/kuangcp/JavaBase/blob/master/src/main/groovy/com/learn/base/ModernGroovy.groovy">示例代码</a></p>
</blockquote>
<hr>
<h2 id="groovy和java的交互">Groovy和Java的交互</h2>
<h3 id="maven中引入groovy">Maven中引入Groovy</h3>
<blockquote>
<p><a href="https://groovy.github.io/gmaven/groovy-maven-plugin/execute.html">参考文档 </a></p>
</blockquote>
<ul>
<li>此方法不能打包, 只是在idea中能成功运行</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="c">&lt;!-- 添加插件--&gt;</span>
<span class="nt">&lt;plugin&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.codehaus.gmaven<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>groovy-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;dependencies&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.codehaus.groovy<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>groovy-all<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>2.0.6<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;/dependencies&gt;</span>
<span class="nt">&lt;/plugin&gt;</span>
<span class="c">&lt;!-- 添加Groovy依赖--&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.codehaus.groovy<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>groovy-all<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>2.4.7<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<blockquote>
<p><a href="http://www.cnblogs.com/rightmin/p/4945797.html">参考博客 eclipse开发Groovy代码，与java集成，maven打包编译</a> | <a href="https://stackoverflow.com/questions/8310563/groovy-file-does-not-compile-in-intellij-idea">Groovy file does not compile in Intellij IDEA</a></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml">    <span class="nt">&lt;plugin&gt;</span>
        <span class="c">&lt;!-- 编译插件 --&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>3.7.0<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;configuration&gt;</span>
            <span class="nt">&lt;target&gt;</span>1.8<span class="nt">&lt;/target&gt;</span>
            <span class="nt">&lt;source&gt;</span>1.8<span class="nt">&lt;/source&gt;</span>
            <span class="nt">&lt;encoding&gt;</span>UTF-8<span class="nt">&lt;/encoding&gt;</span>
            <span class="nt">&lt;compilerId&gt;</span>groovy-eclipse-compiler<span class="nt">&lt;/compilerId&gt;</span>
            <span class="nt">&lt;verbose&gt;</span>true<span class="nt">&lt;/verbose&gt;</span>
        <span class="nt">&lt;/configuration&gt;</span>
        <span class="nt">&lt;dependencies&gt;</span>
            <span class="nt">&lt;dependency&gt;</span>
                <span class="nt">&lt;groupId&gt;</span>org.codehaus.groovy<span class="nt">&lt;/groupId&gt;</span>
                <span class="nt">&lt;artifactId&gt;</span>groovy-eclipse-compiler<span class="nt">&lt;/artifactId&gt;</span>
                <span class="nt">&lt;version&gt;</span>2.9.3-01<span class="nt">&lt;/version&gt;</span>
            <span class="nt">&lt;/dependency&gt;</span>
            <span class="nt">&lt;dependency&gt;</span>
                <span class="nt">&lt;groupId&gt;</span>org.codehaus.groovy<span class="nt">&lt;/groupId&gt;</span>
                <span class="nt">&lt;artifactId&gt;</span>groovy-eclipse-batch<span class="nt">&lt;/artifactId&gt;</span>
                <span class="nt">&lt;version&gt;</span>2.5.0-01<span class="nt">&lt;/version&gt;</span>
            <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;/dependencies&gt;</span>
    <span class="nt">&lt;/plugin&gt;</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>这样的配置就能 <code>mvn clean package</code></p>
</blockquote>
<h3 id="groovy调用java">Groovy调用Java</h3>
<ul>
<li>只要将JAR放入classpath中，只要java能调用到，groovy也能调用到，也就是说直接用，无需特别配置</li>
<li>也可以使用@Grab注解，来加载JAR</li>
</ul>
<h3 id="java调用groovy">Java调用Groovy</h3>
<blockquote>
<p><a href="http://www.tuicool.com/articles/i6raAv">参考博客</a>
<a href="https://www.ibm.com/developerworks/cn/java/j-pg05245/">参考 在 Java 应用程序中加一些 Groovy 进来</a></p>
</blockquote>
<ul>
<li>从Java调用Groovy需要将Groovy及其相关的JAR放到这个程序的CLASSPATH下</li>
<li>Java调用Groovy代码的几种方法
<ul>
<li>使用Bean Scripting Framework(BSF) 即JSR223</li>
<li>使用GroovyShell</li>
<li>使用GroovyClassLoader</li>
<li>使用GroovyScriptEngine</li>
<li>使用嵌入式的Groovy控制台</li>
</ul>
</li>
</ul>
<blockquote>
<p><a href="https://github.com/kuangcp/JavaBase/blob/master/src/main/java/com/classfile/JavaUseGroovy.java">示例代码</a></p>
</blockquote>
<h3 id="groovy和spring">Groovy和Spring</h3>
<blockquote>
<p><a href="https://www.ibm.com/developerworks/cn/java/j-groovierspring1.html">参考: Groovy 使 Spring 更出色，第 1 部分</a></p>
</blockquote>
<hr>
<h2 id="坑">坑</h2>
<blockquote>
<p>因为是动态的, 所以, 当Java或Groovy类更改了一些接口, 属性名, 调用方那里不会报错, 直到运行才报错, 而且 eclipse idea 都不报错, 只是会把错误的属性和调用变成带有下划线的灰色&hellip;</p>
</blockquote>
<h3 id="默认return">默认return</h3>
<blockquote>
<p>只要在方法最后一行放入表达式, 就会自动return, 这就导致了Groovy不会对方法返回值进行检查, 逻辑复杂时如果少了一个return, 不会报编译错误, 方法直接返回null.</p>
</blockquote>
<hr>
<h2 id="grails">Grails</h2>
<ul>
<li><a href="http://www.jianshu.com/p/32c9b45a788f">入门博客</a></li>
</ul>
<blockquote>
<p><a href="http://www.icoolxue.com/album/show/341">入门视频</a></p>
</blockquote>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">Mythos</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2018-12-15
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/%E5%9F%BA%E7%A1%80/">基础</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/go/godatabase/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Go操作数据库</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/skills/application/webbrowser/">
            <span class="next-text nav-default">浏览器</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="http://github.com/kuangcp" class="iconfont icon-github" title="github"></a>
  <a href="https://blogs.kuangcp.top/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://gitee.com/gin9/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2016 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span>
    <span>Mythos</span>
    
    <br/><span><a href='http://beian.miit.gov.cn/'; target=_blank>赣ICP备17014189号</a></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c12618f9a600c40bd024996677e951e64d3487006775aeb22e200c990006c5c7.js"></script>








</body>
</html>
