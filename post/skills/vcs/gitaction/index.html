<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Git实践技巧 - Mythos</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Mythos" /><meta name="description" content="目录 start GitInAction 安装 Linux(debian系) windows GUI Client 配置记住密码 配置GPG签名 简单使用 配置GPG 码云 git初始化配置 终端中显示当前分支 命令的自动补" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.76.5 with theme even" />


<link rel="canonical" href="https://blogs.kuangcp.top/post/skills/vcs/gitaction/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.b5a744db6de49a86cadafb3b70f555ab443f83c307a483402259e94726b045ff.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Git实践技巧" />
<meta property="og:description" content="目录 start GitInAction 安装 Linux(debian系) windows GUI Client 配置记住密码 配置GPG签名 简单使用 配置GPG 码云 git初始化配置 终端中显示当前分支 命令的自动补" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blogs.kuangcp.top/post/skills/vcs/gitaction/" />
<meta property="article:published_time" content="2018-11-21T10:56:52+00:00" />
<meta property="article:modified_time" content="2018-11-21T10:56:52+00:00" />
<meta itemprop="name" content="Git实践技巧">
<meta itemprop="description" content="目录 start GitInAction 安装 Linux(debian系) windows GUI Client 配置记住密码 配置GPG签名 简单使用 配置GPG 码云 git初始化配置 终端中显示当前分支 命令的自动补">
<meta itemprop="datePublished" content="2018-11-21T10:56:52+00:00" />
<meta itemprop="dateModified" content="2018-11-21T10:56:52+00:00" />
<meta itemprop="wordCount" content="3072">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Git实践技巧"/>
<meta name="twitter:description" content="目录 start GitInAction 安装 Linux(debian系) windows GUI Client 配置记住密码 配置GPG签名 简单使用 配置GPG 码云 git初始化配置 终端中显示当前分支 命令的自动补"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Mythos</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Mythos</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Git实践技巧</h1>

      <div class="post-meta">
        <span class="post-time"> 2018-11-21 </span>
        <div class="post-category">
            <a href="/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/"> 版本控制 </a>
            </div>
          <span class="more-meta"> 3072 words </span>
          <span class="more-meta"> 7 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#安装">安装</a>
      <ul>
        <li><a href="#linuxdebian系">Linux(debian系)</a></li>
        <li><a href="#windows">windows</a></li>
        <li><a href="#gui-client">GUI Client</a></li>
      </ul>
    </li>
    <li><a href="#配置记住密码">配置记住密码</a></li>
    <li><a href="#配置gpg签名">配置GPG签名</a></li>
    <li><a href="#简单使用">简单使用</a>
      <ul>
        <li><a href="#配置gpg">配置GPG</a></li>
        <li><a href="#码云">码云</a></li>
      </ul>
    </li>
    <li><a href="#git初始化配置">git初始化配置</a>
      <ul>
        <li><a href="#终端中显示当前分支">终端中显示当前分支</a></li>
        <li><a href="#命令的自动补全">命令的自动补全</a></li>
      </ul>
    </li>
    <li><a href="#git服务器">Git服务器</a>
      <ul>
        <li><a href="#使用-git-daemon-搭建简易-server">使用 git daemon 搭建简易 Server</a></li>
        <li><a href="#http-方式的-git-服务器">HTTP 方式的 Git 服务器</a></li>
      </ul>
    </li>
    <li><a href="#tips">Tips</a>
      <ul>
        <li><a href="#清理仓库大文件">清理仓库大文件</a></li>
        <li><a href="#crlf与lf">CRLF与LF</a></li>
        <li><a href="#仓库统计">仓库统计</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p><strong>目录 start</strong></p>
<ol>
<li><a href="#gitinaction">GitInAction</a>
<ol>
<li><a href="#%E5%AE%89%E8%A3%85">安装</a>
<ol>
<li><a href="#linuxdebian%E7%B3%BB">Linux(debian系)</a></li>
<li><a href="#windows">windows</a></li>
<li><a href="#gui-client">GUI Client</a></li>
</ol>
</li>
<li><a href="#%E9%85%8D%E7%BD%AE%E8%AE%B0%E4%BD%8F%E5%AF%86%E7%A0%81">配置记住密码</a></li>
<li><a href="#%E9%85%8D%E7%BD%AEgpg%E7%AD%BE%E5%90%8D">配置GPG签名</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8">简单使用</a>
<ol>
<li><a href="#%E9%85%8D%E7%BD%AEgpg">配置GPG</a></li>
<li><a href="#%E7%A0%81%E4%BA%91">码云</a></li>
</ol>
</li>
<li><a href="#git%E5%88%9D%E5%A7%8B%E5%8C%96%E9%85%8D%E7%BD%AE">git初始化配置</a>
<ol>
<li><a href="#%E7%BB%88%E7%AB%AF%E4%B8%AD%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E5%88%86%E6%94%AF">终端中显示当前分支</a></li>
<li><a href="#%E5%91%BD%E4%BB%A4%E7%9A%84%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8">命令的自动补全</a></li>
</ol>
</li>
<li><a href="#git%E6%9C%8D%E5%8A%A1%E5%99%A8">Git服务器</a>
<ol>
<li><a href="#%E4%BD%BF%E7%94%A8-git-daemon-%E6%90%AD%E5%BB%BA%E7%AE%80%E6%98%93-server">使用 git daemon 搭建简易 Server</a></li>
<li><a href="#http-%E6%96%B9%E5%BC%8F%E7%9A%84-git-%E6%9C%8D%E5%8A%A1%E5%99%A8">HTTP 方式的 Git 服务器</a>
<ol>
<li><a href="#%E9%85%8D%E7%BD%AEhttps">配置HTTPS</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8ssh%E7%99%BB%E5%BD%95gitserver">使用SSH登录GitServer</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#tips">Tips</a>
<ol>
<li><a href="#%E6%B8%85%E7%90%86%E4%BB%93%E5%BA%93%E5%A4%A7%E6%96%87%E4%BB%B6">清理仓库大文件</a></li>
<li><a href="#crlf%E4%B8%8Elf">CRLF与LF</a></li>
<li><a href="#%E4%BB%93%E5%BA%93%E7%BB%9F%E8%AE%A1">仓库统计</a></li>
</ol>
</li>
</ol>
</li>
</ol>
<p><strong>目录 end</strong>|<em>2021-05-27 21:59</em>|</p>
<hr>
<h1 id="gitinaction">GitInAction</h1>
<blockquote>
<p><a href="https://try.github.io/">try git</a></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/jesseduffield/lazygit">Github: lazygit</a><code>命令行的简易图形化</code>
<a href="https://githistory.xyz/">Github: Git History</a></p>
</blockquote>
<h2 id="安装">安装</h2>
<h3 id="linuxdebian系">Linux(debian系)</h3>
<ul>
<li><code>sudo apt-get install git</code></li>
</ul>
<blockquote>
<p>安装最新版本Git</p>
</blockquote>
<ul>
<li>
<p><code>sudo add-apt-repository ppa:git-core/ppa</code></p>
<ul>
<li>如果命令找不到就先安装这个 <code>sudo apt-get install software-properties-common</code></li>
</ul>
</li>
<li>
<p><code>sudo apt update</code></p>
</li>
<li>
<p><code>sudo apt install git</code></p>
</li>
<li>
<p>从源码安装 <a href="https://github.com/git/git">Github:git</a></p>
<ul>
<li>make prefix=/usr/local all</li>
<li>sudo makeprefix=/usr/local install</li>
</ul>
</li>
<li>
<p>安装文档(可选):</p>
<ul>
<li>sudo apt-get installasciidoc</li>
<li>make prefix=/usr/local docinfo</li>
<li>sudo makeprefix=/usr/local install</li>
</ul>
</li>
<li>
<p>卸载</p>
<ul>
<li>sudo find /usr/local -depth -iname &lsquo;git*&rsquo; -exec rm -rf {} ;</li>
</ul>
</li>
</ul>
<h3 id="windows">windows</h3>
<ul>
<li><a href="https://npm.taobao.org/mirrors/git-for-windows/">git-for-windows 淘宝镜像源</a></li>
</ul>
<h3 id="gui-client">GUI Client</h3>
<blockquote>
<p><a href="https://git-scm.com/downloads/guis">官方列表</a></p>
</blockquote>
<hr>
<h2 id="配置记住密码">配置记住密码</h2>
<ul>
<li>
<p><code>Windows下记住密码</code> ：</p>
<ul>
<li>新建环境变量 HOME 值：<code>%USERPROFILE%</code></li>
<li>在C盘User下你的当前用户目录下新建<code>_netrc</code>文本文件：
<ul>
<li><code>machine https://github.com/Kuangcp/</code></li>
<li><code>login ***</code></li>
<li><code>password ***</code></li>
</ul>
</li>
<li>成功配置，测试便知</li>
</ul>
</li>
<li>
<p><code>Linux下记住密码</code></p>
<ul>
<li>这种情况下一个域名只能使用一个账号</li>
<li><code>git config --global credential.helper store</code></li>
<li>那么下一次输入账号和密码就会被持久化保存， 后续无需输入</li>
</ul>
</li>
<li>
<p><code>ssh 方法：（推荐）</code></p>
<ul>
<li><code>ssh-keygen</code> 不设置密码</li>
<li><code>cat ~/.ssh/id_rsa.pub | xclip -sel clip</code>  添加即可</li>
</ul>
</li>
</ul>
<h2 id="配置gpg签名">配置GPG签名</h2>
<blockquote>
<p><a href="https://docs.github.com/en/github/authenticating-to-github/managing-commit-signature-verification">Github Doc</a></p>
</blockquote>
<ul>
<li><a href="https://stackoverflow.com/questions/41052538/git-error-gpg-failed-to-sign-data">Git error - gpg failed to sign data</a>
<ul>
<li><code>git config --global user.signingkey 指纹</code></li>
</ul>
</li>
</ul>
<p>因为Github等代码托管网站通常是使用 commit 信息里的邮箱来标记提交者的，但是这个信息是可以任意填的，这个时候就需要GPG签名来对该次提交签名，确认是本人提交</p>
<hr>
<h2 id="简单使用">简单使用</h2>
<p><em>Github下拉到eclipse</em></p>
<ul>
<li>1.在GitHub上新建一个项目，不勾选初始化，复制下URL</li>
<li>2.在eclipse新建项目然后在eclipse里添加git remote</li>
<li>3.commit -&gt; push 完成</li>
<li>4.打开Git Bash 使用命令行再查看一下</li>
</ul>
<p><em>本地已有代码关联远程空仓库</em></p>
<ul>
<li>先在远程建立空仓库 一般各大平台也都有命令提示
<ul>
<li>传送门: <a href="https://gitee.com">Gitee</a> | <a href="https://github.com/">Github</a> | <a href="https://bitbucket.org/">Bitbucket</a>  | <a href="https://gitlab.com/">GitLab</a> &hellip;</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">   	git remote add origin  https://github.com/Kuangcp/StudentManager.git
   	git push -u origin master 
</code></pre></td></tr></table>
</div>
</div><ul>
<li>说明下上面的命令 第一条是设置了一个远程仓库 仓库名为origin URL是后面那个,一般默认的远程仓库名都叫origin
<ul>
<li>名字可以随便取 但是提交就要标明仓库名了,而且分支也是一样的默认是master可以自己加别的分支. <code>git push -u 随便 随意</code></li>
</ul>
</li>
</ul>
<p><em>建立本地空仓库并关联到远程仓库</em></p>
<ul>
<li>1.先在GitHub上创建一个仓库，不勾选README（不然添加远程仓库还得pull一下README文件才能push）</li>
<li>如果本地没有则 <code>mkdir 库名 </code>创建一个文件夹，最好和远程的库同名</li>
<li>2.在某本地项目根目录下运行 <code>Git Bash</code>
<ul>
<li>2.1 <code>git init</code> 初始化（建立 <code>.git</code> 目录）</li>
<li>2.2 <code>touch README.md</code></li>
<li>2.3 <code>git remote add origin master URL</code> 连上远程仓库</li>
<li>2.4 <code>git push -u origin master</code> 输入用户名，密码 （若因为没有上游节点就按提示输入命令建立初始节点即可 git push &ndash;setupstream origin master）</li>
<li>原因是没有指定本地dev分支与远程origin/dev分支的链接，根据提示，设置dev和origin/dev的链接：<code>git branch --set-upstream dev origin/dev</code> master同理</li>
</ul>
</li>
</ul>
<h3 id="配置gpg">配置GPG</h3>
<blockquote>
<p><a href="http://www.ruanyifeng.com/blog/2013/07/gpg.html">阮一峰:GPG入门教程</a></p>
</blockquote>
<ul>
<li>能够提高安全性,但是麻烦,不过向来这两者就是不可兼得的.</li>
</ul>
<h3 id="码云">码云</h3>
<blockquote>
<p><a href="http://git.mydoc.io/">帮助文档</a></p>
</blockquote>
<ul>
<li><a href="http://git.mydoc.io/?t=83152">如何进行减少提交历史数量以及修改自己的commit中的邮箱</a></li>
<li><a href="https://my.oschina.net/jfinal/blog/215624?fromerr=ZTZ6c38X">改写历史，永久删除git库的物理文件 </a></li>
</ul>
<hr>
<h2 id="git初始化配置">git初始化配置</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">	git config --global user.name <span class="s2">&#34; &#34;</span>
	git config --global user.email <span class="s2">&#34; &#34;</span>
	git config --global color.ui  auto 
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>如果是多个账号使用同一台电脑就不要配置这个，单独配置每个仓库下的用户名，邮箱即可<br>
<code>git config user.name &quot;&quot;</code></p>
</blockquote>
<hr>
<h3 id="终端中显示当前分支">终端中显示当前分支</h3>
<blockquote>
<p>使用 .git-prompt.sh 在Bash下显示当前分支   Windows环境不用看,安装的Git-for-windows软件已经会显示分支名了</p>
</blockquote>
<ul>
<li><code>wget https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh -O ~/.git-prompt.sh</code> 下载脚本</li>
<li><code>chmod +x ~/.git-prompt.sh</code> 赋予可执行权限</li>
</ul>
<blockquote>
<p>在 .bash_alases文件中添加</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">    lightgreen=&#39;\[\033[1;32m\]&#39;
    lightcyan=&#39;\[\033[1;36m\]&#39;
    lightpurple=&#39;\[\033[1;35m\]&#39;
    yellow=&#39;\[\033[1;33m\]&#39;
    nocolor=&#39;\[\033[0m\]&#39;
    source ~/.git-prompt.sh
    set_bash_prompt(){
        #PS1=&#34;[e[32m]u[e[m]@[e[33m]W[e[36m]$(__git_ps1 &#39; (%s)&#39;)[e[31m]$[e[m]&#34;
        PS1=&#34;${lightcyan}\t${lightgreen}\w${lightpurple}$(__git_ps1 &#39; (%s)&#39;)${yellow} → \[\e[m\]&#34;
    }
    PROMPT_COMMAND=&#34;set_bash_prompt; $PROMPT_COMMAND&#34;
</code></pre></td></tr></table>
</div>
</div><p>如果使用 zsh 加上 oh-my-zsh 这就是换个主题的事 下面的自动补全也是默认就有</p>
<hr>
<h3 id="命令的自动补全">命令的自动补全</h3>
<blockquote>
<p><a href="https://github.com/git/git/tree/master/contrib/completion">git自动补全脚本GitHub地址</a></p>
</blockquote>
<ul>
<li>下载脚本 <code>wget https://raw.githubusercontent.com/git/git/master/contrib/completion/git-completion.bash -o ~/.git-completion.bash</code>
<ul>
<li>在 .bashrc 或者 .bash_aliases 中添加 source ~/.git-completion.bash</li>
<li>重启终端或者 <code>source .bashrc</code>即可</li>
</ul>
</li>
<li>双击tab可以得到命令建议</li>
</ul>
<hr>
<h2 id="git服务器">Git服务器</h2>
<h3 id="使用-git-daemon-搭建简易-server">使用 git daemon 搭建简易 Server</h3>
<p><em><code>目录结构</code></em></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">    root
    ├── a
    │   └── .git
    └── b
        └── .git
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>也就是说在仓库目录的父级目录 root 作为基础目录 (base-path)</p>
</blockquote>
<ul>
<li>
<p><code>git daemon --export-all --base-path=$(pwd) --port=8080</code> 在 当前目录 启动一个Git守护进程</p>
<ul>
<li><code>--enable=receive-pack</code> 为了安全，默认是仓库不能被修改， 添加这个参数就可以push了</li>
<li><code>--export-all</code> 开放当前目录下所有项目</li>
<li><code>--base-path=''</code> 指定开放的基本目录（指定开放别的路径）</li>
<li><code>--port=8080</code> 指定开放的端口</li>
<li><code>--verbose</code> 启动看到的日志信息更多</li>
</ul>
</li>
<li>
<p>直接克隆 <code>git clone git://localhost:8080/a</code></p>
</li>
<li>
<p>或者作为已有代码的远程 <code>git remote add hub git://localhost:8080/a</code></p>
<ul>
<li>然后 git fetch 对应的分支就可以达到将某个分支直接给对方的目的</li>
</ul>
</li>
</ul>
<h3 id="http-方式的-git-服务器">HTTP 方式的 Git 服务器</h3>
<ul>
<li>安装Apache： Web服务器</li>
<li>配置Apache服务器的开放的目录以及Git的路径</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml">    <span class="nt">&lt;Location</span> <span class="err">/git</span><span class="nt">&gt;</span>
        AuthType Basic 
        AuthName &#34;GIT Repository&#34; 
        AuthUserFile &#34;/home/mythos/GitRemoteRepo/htpassed&#34;
        Require valid-user
    <span class="nt">&lt;/Location&gt;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>切换到Apache的bin目录下：<code>htpasswd -cmb /home/mythos/GitRemoteRepo/htpsswd 账号名 密码</code></li>
<li>到仓库目录下 <code>git init --bare 程序项目名称</code></li>
<li><code>git clone http://localhost/git/程序项目名称</code> 输入用户名密码即可</li>
</ul>
<h4 id="配置https">配置HTTPS</h4>
<ul>
<li>
<p>切换到Apache主目录下执行</p>
<ol>
<li><code>bin\openssl genrsa -des3 -out server.key 2048 -config conf\openssl.cnf</code> 输入密码</li>
<li><code>bin\openssl req -new -key server.key -out server.csr -config conf\openssl.cnf</code> 输入之前密码</li>
<li><code>bin\openssl x509 -req -days 3650 -in server.csr -signkey server.key -out server.crt</code> 输入之前密码</li>
</ol>
</li>
<li>
<p>把server.key 更名为server.key.old :<code>bin\openssl rsa -in server.key.old -out server.key</code></p>
</li>
<li>
<p>将server.key server.crt 移动到conf</p>
</li>
<li>
<p>修改 httpd.conf 去掉如下三行的注释 # 字符</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">    LoadModule socache_shmcb_module..
    LoadModule ssl_module..
    Include conf/extra...
</code></pre></td></tr></table>
</div>
</div><ul>
<li>因为是自己建立的SSL证书 所以要去掉SSL验证 <code>git -c http.sslVerify=false clone URL </code></li>
<li>或者写入配置文件 <code>git config http.sslVerify false</code></li>
</ul>
<h4 id="使用ssh登录gitserver">使用SSH登录GitServer</h4>
<hr>
<h2 id="tips">Tips</h2>
<ol>
<li>虽然在物理上本地仓库中所有文件是放在一起的，但是分支之间是互不能访问以及操作的</li>
<li>在本地的每次commit都是有index的，上传到github可以不用那么频繁，反正都是有记录的</li>
<li>出现了冲突，从而无法自动merge：</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">    git pull 对方的分支
    git checkout 自己的分支
    git merge --no-ff 对方的分支
    git push （自己的源+分支）origin master
</code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>切记：避免隐私的配置文件上传github时，将配置分离出来配置.gitignore中忽略掉配置文件，然后建立模板文件夹放待配置的文件即可
<ul>
<li><code>大意的后果</code>：<a href="https://zhuanlan.zhihu.com/p/33424997">程序员复仇记 | 这些年，GitHub 上泄露了些什么？</a></li>
<li><a href="https://www.bennythink.com/git-password.html">不小心把密码上传到 GitHub 了，怎么办</a></li>
</ul>
</li>
<li><code>cat ~/.ssh/id_rsa.pub | xclip -sel clip</code> 复制公钥</li>
<li>Linux下当大量文件出现mode的变化（因为你的目录移动，文件权限变化等影响的）可以设置忽略掉 <code>git config core.fileMode false</code>
<ul>
<li>当将目录备份出去，然后重装系统粘贴回来，权限就变了，mode也变了，可以设置忽略掉改变</li>
</ul>
</li>
<li>git status 中文文件名乱码, 执行 <code>git config --global core.quotepath false</code>即可</li>
</ol>
<ul>
<li>
<p><code>git ls-files</code> 列出文件列表</p>
<ul>
<li><code>git ls-files | xargs wc -l</code> 计算文件中程序代码行数 通过工具：<code>xargs</code> <code>wc</code> (中文命名的文件编码问题无法计算行数)</li>
<li><code>git ls-files | xargs cat | wc -l</code> 计算行数总和</li>
</ul>
</li>
<li>
<p><a href="https://developer.github.com/v3/">API: github开发接口</a></p>
</li>
<li>
<p><a href="https://docs.github.com/en/github/searching-for-information-on-github/searching-on-github">Github: Search 技巧</a></p>
</li>
</ul>
<h3 id="清理仓库大文件">清理仓库大文件</h3>
<ul>
<li><a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E9%87%8D%E5%86%99%E5%8E%86%E5%8F%B2">official:7.6 Git 工具 - 重写历史</a></li>
</ul>
<blockquote>
<p><a href="https://rtyley.github.io/bfg-repo-cleaner/">Tool: bfg-cleaner</a></p>
</blockquote>
<blockquote>
<p><a href="http://blog.csdn.net/meteor1113/article/details/4407209">参考博客 从git中永久删除文件以节省空间</a> |
<a href="http://zhongmingmao.me/2017/04/19/git-reduce/">参考博客4 减小磁盘占用</a><br>
<a href="https://www.v2ex.com/t/297802">删除仓库的某个时间点之前的历史记录，减少.git 目录大小</a><br>
<a href="http://www.open-open.com/lib/view/open1414632626075.html">如何清洗 Git Repo 代码仓库</a></p>
</blockquote>
<blockquote>
<p><a href="https://www.tuicool.com/articles/vAVVZrA">参考: 寻找并删除Git记录中的大文件</a></p>
</blockquote>
<ol>
<li>找出大文件 <code>git rev-list --objects --all | grep &quot;$(git verify-pack -v .git/objects/pack/*.idx | sort -k 3 -n | tail -10 | awk '{print$1}')&quot;</code></li>
<li>删除文件, 重写提交 <code>git filter-branch --force --index-filter 'git rm --cached --ignore-unmatch 文件的路径' --prune-empty --tag-name-filter cat -- --all</code></li>
<li>强制推送 <code>git push origin --force --all</code>
<ul>
<li><code>git push origin --force --tags</code></li>
</ul>
</li>
<li>使用<code>git pull rebase</code>来更新分支，而不是 <code>git merge</code> 不然大文件又从别的分支回来了</li>
</ol>
<blockquote>
<p>要注意, 所有的分支都必须 pull rebase , 只要还有一个人留有对大文件的引用, 大文件就一直在仓库</p>
</blockquote>
<h3 id="crlf与lf">CRLF与LF</h3>
<blockquote>
<p>由于系统的不同 Windows是 CRLF *nix 是 LF Mac 是 CR | <a href="https://en.wikipedia.org/wiki/Newline">wiki: CRLF</a></p>
</blockquote>
<p>Git提供了一个“换行符自动转换”功能。这个功能默认处于“自动模式”，当你在签出文件时，它试图将 UNIX 换行符（LF）替换为 Windows 的换行符（CRLF）；<br>
当你在提交文件时，它又试图将 CRLF 替换为 LF。Git 的“换行符自动转换”功能听起来似乎很智能、很贴心，因为它试图一方面保持仓库内文件的一致性（UNIX 风格），一方面又保证本地文件的兼容性（Windows 风格）。但遗憾的是，这个功能是有 bug 的</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">    git config --global core.autocrlf <span class="nb">false</span> 
    git config --global core.safecrlf <span class="nb">true</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><a href="https://www.tuicool.com/articles/IJjQVb">参考: CRLF和LF</a>
<a href="https://www.cnblogs.com/sdgf/p/6237847.html">参考: git 换行符LF与CRLF转换问题</a></p>
</blockquote>
<blockquote>
<ol>
<li>CRLF -&gt; LF <code>sed -i 's/\r//g' file</code> 配合git 就是 <code>git ls-files| sed -i 's/\r//g' </code></li>
</ol>
</blockquote>
<h3 id="仓库统计">仓库统计</h3>
<blockquote>
<p><a href="https://github.com/hoxu/gitstats">https://github.com/hoxu/gitstats</a></p>
</blockquote>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">Mythos</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2018-11-21
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/post/skills/vcs/gitbase/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Git基础</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/skills/vcs/gitadvance/">
            <span class="next-text nav-default">Git深入学习</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="http://github.com/kuangcp" class="iconfont icon-github" title="github"></a>
  <a href="https://blogs.kuangcp.top/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://gitee.com/gin9/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2016 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span>
    <span>Mythos</span>
    
    <br/><span><a href='http://beian.miit.gov.cn/'; target=_blank>赣ICP备17014189号</a></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c12618f9a600c40bd024996677e951e64d3487006775aeb22e200c990006c5c7.js"></script>








</body>
</html>
