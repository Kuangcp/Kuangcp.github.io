<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>对账</title>
  <link href="../css/u/bootstrap.min.css" rel="stylesheet"/>
  <script src="../js/jquery-3.0.0.min.js"></script>

 <script src="../js/tether.min.js"></script>
 <script src="../js/bootstrap.min.js"></script>
  <script>
      var num=1;
  function create(){
      num++;
      var tables = $("#main");
      tables.append("<tr class='row'> <td><input type='number' id='Jie"+num+"' class='form-control'  placeholder='借方' autofocus /></td> <td><input type='number'  id='Dai"+num+"'class='form-control'  placeholder='贷方' /></td> <td ><input type='number' id='Yu"+num+"' class='form-control'placeholder='余额'/></td></tr>");

  }
  function run() {
      console.log("有条目 ： "+num)
      var Jie1 = $("#Jie1").val();
      var Dai1 = $("#Dai1").val();
      var Yu1 = $("#Yu1").val();
      for(var i=2;i<=num;i++){
          var Yu = $("#Yu"+(i-1)).val();
          var Jie = $("#Jie"+i).val();
          Jie = Jie*-1;
          var Dai = $("#Dai"+i).val();
          console.log(Yu+"+"+Jie+"-"+Dai);
          if(Jie ==null)Jie=0;
          if(Dai==null) Dai=0;
          var temp = Yu-Jie-Dai;
          $("#Yu"+i).val(temp);
//          console.log($("#Yu"))
//          console.log(Yu+"-"+Jie+":"+Dai+"余额："+temp);
      }


  }
  </script>
     <style>
         body{
             background-color: darkseagreen;
         }
         .tables{
             margin:30px 0 0 20%;
         }
         .buttons{
             margin:10px 0 0 40%;
         }
     </style>
 </head>
 <body>
  <!--输入借或贷，动态添加和删除div dom 输入初始余额-->


  <div class="tables">
      <h2 style="margin-left: 240px;color: yellow;">快速对账</h2>
<table id="main" >
	<tr class="row">
		<td ><input type="number" disabled class="form-control" id="Jie1" placeholder="借方" autofocus /></td>
		<td ><input type="number" disabled class="form-control" id="Dai1" placeholder="贷方" /></td>
		<td ><input type="number" class="form-control" id="Yu1" placeholder="初始余额"/></td>
	</tr>
</table>
  </div>
  <div>
      <button class="btn btn-primary buttons" onclick="create()">新增</button>
      <button class="btn btn-danger buttons" style="margin-left: 20px;"  onclick="run()">计算</button>
  </div>
 </body>
</html>
